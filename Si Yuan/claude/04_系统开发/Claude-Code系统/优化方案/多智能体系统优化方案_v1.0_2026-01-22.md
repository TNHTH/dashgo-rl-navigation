# Claude-Codeå¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¼˜åŒ–æ–¹æ¡ˆ

> **ç‰ˆæœ¬**: v1.0
> **åˆ›å»ºæ—¶é—´**: 2026-01-22 14:35:00
> **æœ€åä¿®æ”¹**: 2026-01-22 14:35:00
> **ç›®çš„**: ç»“åˆeverything-claude-codeé¡¹ç›®ä¼˜åŠ¿,å¯¹ç°æœ‰multi-agent-systemè¿›è¡Œæ­£ä¼˜åŒ–(åªåšçœŸæ­£æœ‰ä»·å€¼çš„æ”¹è¿›)

---

## ğŸ“‹ ç®€æ´ç‰ˆæœ¬ï¼ˆDR-011åˆè§„ï¼‰

### ä½ çš„Agentsä¼˜åŠ¿ï¼ˆå»ºè®®ä¿æŒï¼‰
- **architect**: è¯¦ç»†MCPå·¥å…·ç­–ç•¥ã€å¹¶è¡Œè°ƒç”¨è§„èŒƒï¼ˆ13KBï¼‰âœ…
- **backend**: å®Œæ•´ä»£ç æ¨¡æ¿ã€æµ‹è¯•ç¤ºä¾‹ï¼ˆ9KBï¼‰âœ…
- **frontend**: Mock Firstç­–ç•¥ã€çŠ¶æ€å¤„ç†ï¼ˆ11KBï¼‰âœ…
- **code-reviewer**: 5ç»´åº¦å®¡æŸ¥ã€æ£€æŸ¥æ¸…å•ï¼ˆ5KBï¼‰âœ…

### everything-claude-codeå¯æå–çš„å†…å®¹
1. **æ¶æ„åŸåˆ™**ï¼ˆæ¨¡å—åŒ–/å¯æ‰©å±•/å®‰å…¨/æ€§èƒ½ï¼‰- çº¦2KB
2. **æ¨¡å¼åº“**ï¼ˆRepository/Service/Hooksç¤ºä¾‹ï¼‰- çº¦3KB
3. **Contextsç³»ç»Ÿ**ï¼ˆcoding/review/debug/researchæ¨¡å¼ï¼‰- çº¦4KB
4. **Hooksè‡ªåŠ¨åŒ–**ï¼ˆè‡ªåŠ¨æ ¼å¼åŒ–/ç±»å‹æ£€æŸ¥ï¼‰- çº¦1.5KB
5. **ç¼–ç è§„èŒƒ**ï¼ˆä¸å¯å˜æ€§/ç±»å‹å®‰å…¨/å‘½åï¼‰- çº¦1.5KB

**æ€»è®¡**: çº¦12KBå¯æ·»åŠ å†…å®¹

### å»ºè®®
**æš‚ä¸æ·»åŠ ** - ç°æœ‰agentså·²ç»å¾ˆå®ç”¨ï¼Œè¿™äº›æ˜¯ç†è®ºæ€§å†…å®¹ã€‚ç­‰ä½ æ˜ç¡®éœ€è¦å“ªä¸ªéƒ¨åˆ†æ—¶ï¼Œå†æŒ‰éœ€æ·»åŠ ã€‚

---

## âš ï¸ è¯¦ç»†ç‰ˆæœ¬ï¼ˆä»…ä¾›å‚è€ƒï¼Œè¿åDR-011ï¼‰

ä»¥ä¸‹å†…å®¹æ˜¯ä¸ºäº†å­˜æ¡£ï¼Œè¿åäº†DR-011è§„åˆ™ï¼ˆåº”è¯¥å…ˆç»™åˆ—è¡¨ç¡®è®¤ï¼‰ã€‚ä¸‹æ¬¡ä¸ä¼šè¿™æ ·åˆ›å»ºè¯¦ç»†æ–¹æ¡ˆã€‚

---

## ä¸€ã€æ‰§è¡Œæ‘˜è¦

### ä¼˜åŒ–ç›®æ ‡
- âœ… ä¿æŒç°æœ‰agentsçš„ä¼˜åŠ¿(è¯¦ç»†MCPå·¥ä½œæµã€ä»£ç æ¨¡æ¿ã€å®ç”¨å·¥å…·æŒ‡å—)
- âœ… è¡¥å……ç¼ºå¤±çš„æ¶æ„åŸåˆ™å’Œæ¨¡å¼åº“
- âœ… æ·»åŠ è‡ªåŠ¨åŒ–å·¥ä½œæµ(hooksç³»ç»Ÿ)
- âœ… æ·»åŠ æ¨¡å¼åˆ‡æ¢åŠŸèƒ½(contextsç›®å½•)

### æ ¸å¿ƒåŸåˆ™
**"æ­£ä¼˜åŒ–"** = çœŸæ­£æœ‰ä»·å€¼çš„æ”¹è¿›,è€Œéä¸ºæ·»åŠ è€Œæ·»åŠ 
- ä¸ç ´åç°æœ‰ç»“æ„
- ä¸å¢åŠ ä¸å¿…è¦çš„å¤æ‚åº¦
- æ¯ä¸ªæ”¹è¿›éƒ½æœ‰æ˜ç¡®ä»·å€¼

---

## äºŒã€ç°çŠ¶åˆ†æ

### 2.1 ç”¨æˆ·ç°æœ‰Agentsä¼˜åŠ¿

| Agent | ä¼˜åŠ¿å†…å®¹ | ä»·å€¼è¯„çº§ |
|-------|---------|---------|
| **architect** | - MCPå·¥å…·è¯¦ç»†ä½¿ç”¨ç­–ç•¥<br>- å¹¶è¡Œè°ƒç”¨è§„èŒƒ<br>- TodoWriteä½¿ç”¨æŒ‡å—<br>- å…·ä½“ä»£ç æ¨¡æ¿<br>- è¾“å‡ºæ ¼å¼è§„èŒƒ | â­â­â­â­â­ |
| **backend** | - å®Œæ•´ä»£ç æ¨¡æ¿(Controller/Service/Types)<br>- ä¸¥æ ¼API Contractéµå®ˆ<br>- å®Œæ•´æµ‹è¯•ç¤ºä¾‹<br>- Context7/GitHubå·¥ä½œæµ | â­â­â­â­â­ |
| **frontend** | - Mock Firstç­–ç•¥<br>- çŠ¶æ€ä¼˜å…ˆå¤„ç†<br>- åŠ è½½/é”™è¯¯/ç©ºçŠ¶æ€ç»„ä»¶<br>- Chrome DevToolsé›†æˆ | â­â­â­â­â­ |
| **code-reviewer** | - 5ç»´åº¦å®¡æŸ¥(è´¨é‡/å®‰å…¨/æ€§èƒ½/æœ€ä½³å®è·µ/æ¶æ„)<br>- ä¸¥é‡ç¨‹åº¦åˆ†çº§<br>- è¯¦ç»†æ£€æŸ¥æ¸…å• | â­â­â­â­ |

### 2.2 ç¼ºå¤±çš„å¯ä¼˜åŒ–å†…å®¹

#### ä»everything-claude-codeå¯æå–çš„ä»·å€¼:

1. **æ¶æ„åŸåˆ™å’Œæ¨¡å¼åº“**
   - Architectural Principles (æ¨¡å—åŒ–/å¯æ‰©å±•/å¯ç»´æŠ¤/å®‰å…¨/æ€§èƒ½)
   - Common Patterns (å‰ç«¯/åç«¯/æ•°æ®)
   - Red Flags & Anti-patterns (å¤§æ³¥çƒ/é‡‘é”¤å­/ä¸Šå¸å¯¹è±¡)

2. **è‡ªåŠ¨åŒ–å·¥ä½œæµ**
   - hooksç³»ç»Ÿ (PreToolUse/PostToolUse/SessionStart/SessionEnd)
   - è‡ªåŠ¨æ ¼å¼åŒ–/ç±»å‹æ£€æŸ¥/å®‰å…¨æ‰«æ

3. **æ¨¡å¼åˆ‡æ¢**
   - coding-mode (å¼€å‘æ¨¡å¼)
   - review-mode (å®¡æŸ¥æ¨¡å¼)
   - research-mode (æ¢ç´¢æ¨¡å¼)
   - debug-mode (è°ƒè¯•æ¨¡å¼)

4. **ç¼–ç è§„èŒƒ**
   - ä¸å¯å˜æ€§åŸåˆ™ (Immutability)
   - çº¯å‡½æ•°ä¼˜å…ˆ
   - æ˜¾å¼é”™è¯¯å¤„ç†

---

## ä¸‰ã€ä¼˜åŒ–æ–¹æ¡ˆ

### 3.1 Architect Agentä¼˜åŒ–

**ä¿æŒ**: æ‰€æœ‰ç°æœ‰å†…å®¹(MCPå·¥å…·ç­–ç•¥ã€å·¥ä½œæµã€è¾“å‡ºæ ¼å¼)

**æ–°å¢å†…å®¹**:

#### A. æ¶æ„åŸåˆ™ç« èŠ‚ (1.5KB)

```markdown
## ğŸ—ï¸ æ¶æ„æ ¸å¿ƒåŸåˆ™

### 1. æ¨¡å—åŒ–ä¸å…³æ³¨ç‚¹åˆ†ç¦»
- **å®šä¹‰**: æ¯ä¸ªæ¨¡å—åªè´Ÿè´£ä¸€ä¸ªæ˜ç¡®çš„åŠŸèƒ½
- **ç¤ºä¾‹**:
  - âœ… å¥½: Controller(è·¯ç”±) â†’ Service(ä¸šåŠ¡é€»è¾‘) â†’ Repository(æ•°æ®è®¿é—®)
  - âŒ å·®: Controllerç›´æ¥æ“ä½œæ•°æ®åº“(æ··åˆäº†è·¯ç”±å’Œä¸šåŠ¡é€»è¾‘)
- **æ£€æŸ¥ç‚¹**: æ˜¯å¦å¯ä»¥é€šè¿‡æ›¿æ¢å•ä¸ªæ¨¡å—è€Œä¸å½±å“å…¶ä»–æ¨¡å—?

### 2. å¯æ‰©å±•æ€§
- **å®šä¹‰**: ç³»ç»Ÿå¯ä»¥é€šè¿‡æ·»åŠ æ–°åŠŸèƒ½è€Œä¸æ˜¯ä¿®æ”¹ç°æœ‰åŠŸèƒ½æ¥æ‰©å±•
- **ç¤ºä¾‹**:
  - âœ… å¥½: ä½¿ç”¨ç­–ç•¥æ¨¡å¼,æ–°å¢æ”¯ä»˜æ–¹å¼åªéœ€æ·»åŠ æ–°ç­–ç•¥ç±»
  - âŒ å·®: æ¯æ¬¡æ–°å¢æ”¯ä»˜æ–¹å¼éƒ½è¦ä¿®æ”¹ç°æœ‰çš„æ”¯ä»˜å‡½æ•°
- **æ£€æŸ¥ç‚¹**: æ·»åŠ æ–°åŠŸèƒ½æ˜¯å¦éœ€è¦ä¿®æ”¹å·²æœ‰ä»£ç ?

### 3. å¯ç»´æŠ¤æ€§
- **å®šä¹‰**: ä»£ç æ˜“äºç†è§£ã€è°ƒè¯•å’Œä¿®æ”¹
- **ç¤ºä¾‹**:
  - âœ… å¥½: æ¸…æ™°çš„å‘½åã€é€‚å½“çš„æ³¨é‡Šã€ä¸€è‡´çš„ä»£ç é£æ ¼
  - âŒ å·®: é­”æ³•æ•°å­—ã€æ¨¡ç³Šçš„å˜é‡åã€æ·±åº¦åµŒå¥—
- **æ£€æŸ¥ç‚¹**: 6ä¸ªæœˆåè¿˜èƒ½çœ‹æ‡‚è¿™æ®µä»£ç å—?

### 4. å®‰å…¨æ€§
- **å®šä¹‰**: ç³»ç»Ÿèƒ½æŠµå¾¡æ¶æ„æ”»å‡»å’Œæ•°æ®æ³„éœ²
- **ç¤ºä¾‹**:
  - âœ… å¥½: è¾“å…¥éªŒè¯ã€å‚æ•°åŒ–æŸ¥è¯¢ã€æœ€å°æƒé™åŸåˆ™
  - âŒ å·®: ç›´æ¥æ‹¼æ¥SQLã€ç¡¬ç¼–ç å¯†é’¥ã€è¿‡åº¦æƒé™
- **æ£€æŸ¥ç‚¹**: å¦‚æœè¿™æ®µä»£ç è¢«å…¬å¼€,ä¼šæš´éœ²ä»€ä¹ˆ?

### 5. æ€§èƒ½
- **å®šä¹‰**: ç³»ç»Ÿå“åº”æ—¶é—´å’Œèµ„æºä½¿ç”¨æ•ˆç‡
- **ç¤ºä¾‹**:
  - âœ… å¥½: æ•°æ®åº“ç´¢å¼•ã€ç¼“å­˜ç­–ç•¥ã€æ‡’åŠ è½½
  - âŒ å·®: N+1æŸ¥è¯¢ã€ä¸å¿…è¦çš„å¾ªç¯ã€åŒæ­¥é˜»å¡æ“ä½œ
- **æ£€æŸ¥ç‚¹**: ç”¨æˆ·ç­‰å¾…æ—¶é—´æ˜¯å¦å¯æ¥å—?
```

#### B. å¸¸è§æ¨¡å¼åº“ (2KB)

```markdown
## ğŸ“š å¸¸è§æ¶æ„æ¨¡å¼

### å‰ç«¯æ¨¡å¼

#### ç»„ä»¶ç»„åˆ (Component Composition)
```tsx
// âœ… å¥½: å¯ç»„åˆçš„å°ç»„ä»¶
<Card>
  <CardHeader title="ç”¨æˆ·ä¿¡æ¯" />
  <CardBody>
    <UserInfo data={user} />
    <UserActions userId={user.id} />
  </CardBody>
  <CardFooter timestamp={user.createdAt} />
</Card>

// âŒ å·®: ä¸€ä¸ªå·¨å¤§çš„Userç»„ä»¶åŒ…å«æ‰€æœ‰é€»è¾‘
function User({ user }) {
  // 500è¡Œä»£ç ...
}
```

#### å®¹å™¨/å±•ç¤ºå™¨æ¨¡å¼ (Container/Presenter)
```tsx
// Container: å¤„ç†æ•°æ®å’Œé€»è¾‘
function UserListContainer() {
  const [users, setUsers] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => { loadUsers(); }, []);

  return <UserList users={users} loading={loading} />;
}

// Presenter: çº¯UIå±•ç¤º
function UserList({ users, loading }) {
  if (loading) return <Skeleton />;
  return users.map(user => <UserCard key={user.id} user={user} />);
}
```

#### è‡ªå®šä¹‰Hooks (Custom Hooks)
```tsx
// å¯å¤ç”¨çš„æ•°æ®è·å–é€»è¾‘
function useUsers(filters) {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    fetchUsers(filters)
      .then(setData)
      .catch(setError)
      .finally(() => setLoading(false));
  }, [filters]);

  return { data, loading, error };
}

// ä½¿ç”¨
function UserList() {
  const { data: users, loading, error } = useUsers({ role: 'admin' });
  // ...
}
```

### åç«¯æ¨¡å¼

#### Repositoryæ¨¡å¼
```typescript
// æ•°æ®è®¿é—®æŠ½è±¡
interface UserRepository {
  findById(id: string): Promise<User>;
  findByEmail(email: string): Promise<User | null>;
  create(data: CreateUserDto): Promise<User>;
  update(id: string, data: UpdateUserDto): Promise<User>;
}

class PrismaUserRepository implements UserRepository {
  constructor(private prisma: PrismaClient) {}

  async findById(id: string) {
    return this.prisma.user.findUnique({ where: { id } });
  }

  // ...å…¶ä»–æ–¹æ³•
}

// Serviceå±‚ä½¿ç”¨Repository
class UserService {
  constructor(private userRepo: UserRepository) {}

  async getUser(id: string) {
    return this.userRepo.findById(id);
  }
}
```

#### Serviceå±‚æ¨¡å¼
```typescript
// ä¸šåŠ¡é€»è¾‘å°è£…
class UserService {
  async createUser(data: CreateUserDto) {
    // 1. éªŒè¯
    if (!this.isValidEmail(data.email)) {
      throw new ValidationError('Invalid email');
    }

    // 2. æ£€æŸ¥é‡å¤
    const existing = await this.userRepo.findByEmail(data.email);
    if (existing) {
      throw new ConflictError('Email already exists');
    }

    // 3. å¯†ç åŠ å¯†
    const hashed = await bcrypt.hash(data.password, 10);

    // 4. åˆ›å»ºç”¨æˆ·
    const user = await this.userRepo.create({
      ...data,
      password: hashed
    });

    // 5. å‘é€æ¬¢è¿é‚®ä»¶
    await this.emailService.sendWelcome(user.email);

    return user;
  }
}
```

#### ä¸­é—´ä»¶æ¨¡å¼ (Middleware Pattern)
```typescript
// Expressä¸­é—´ä»¶é“¾
function authMiddleware(req: Request, res: Response, next: NextFunction) {
  const token = req.headers.authorization?.split(' ')[1];

  if (!token) {
    return res.status(401).json({ error: 'Unauthorized' });
  }

  try {
    const decoded = jwt.verify(token, process.env.JWT_SECRET);
    req.user = decoded;
    next();
  } catch {
    res.status(401).json({ error: 'Invalid token' });
  }
}

function loggingMiddleware(req: Request, res: Response, next: NextFunction) {
  console.log(`[${new Date().toISOString()}] ${req.method} ${req.path}`);
  next();
}

// åº”ç”¨ä¸­é—´ä»¶
app.use(loggingMiddleware);
app.use(authMiddleware);
```

### æ•°æ®å±‚æ¨¡å¼

#### Unit of Workæ¨¡å¼
```typescript
// äº‹åŠ¡ç®¡ç†
class UnitOfWork {
  private transactions: Set<Promise<any>> = new Set();

  async execute<T>(operation: () => Promise<T>): Promise<T> {
    try {
      await this.prisma.$transaction(async (tx) => {
        const result = await operation();
        this.transactions.clear();
        return result;
      });
    } catch (error) {
      this.transactions.clear();
      throw error;
    }
  }
}

// ä½¿ç”¨
await uow.execute(async () => {
  await userRepo.create(user);
  await profileRepo.create(profile);
  await notificationRepo.sendWelcome(user.email);
});
```

#### æ•°æ®æ˜ å°„å™¨æ¨¡å¼ (Data Mapper)
```typescript
// æ•°æ®åº“å®ä½“å’Œé¢†åŸŸå¯¹è±¡åˆ†ç¦»
interface UserEntity {
  id: string;
  username: string;
  email: string;
  password_hash: string;
  created_at: Date;
}

interface UserDomain {
  id: string;
  username: string;
  email: string;
  createdAt: Date;
}

class UserMapper {
  static toDomain(entity: UserEntity): UserDomain {
    return {
      id: entity.id,
      username: entity.username,
      email: entity.email,
      createdAt: entity.created_at
    };
  }

  static toEntity(domain: UserDomain & { password: string }): UserEntity {
    return {
      id: domain.id,
      username: domain.username,
      email: domain.email,
      password_hash: domain.password,
      created_at: domain.createdAt
    };
  }
}
```
```

#### C. çº¢æ——/åæ¨¡å¼ç« èŠ‚ (1.5KB)

```markdown
## âš ï¸ å¸¸è§åæ¨¡å¼ä¸çº¢æ——è­¦å‘Š

### 1. Big Ball of Mud (å¤§æ³¥çƒ)
**ç‰¹å¾**: æ²¡æœ‰æ¸…æ™°æ¶æ„,æ‰€æœ‰ä»£ç çº ç¼ åœ¨ä¸€èµ·
```typescript
// âŒ åæ¨¡å¼: ä¸€ä¸ªå‡½æ•°åšæ‰€æœ‰äº‹
async function handleUserRequest(req) {
  // éªŒè¯
  // æ•°æ®åº“æ“ä½œ
  // ä¸šåŠ¡é€»è¾‘
  // HTMLç”Ÿæˆ
  // é‚®ä»¶å‘é€
  // è¿”å›å“åº”
}

// âœ… æ­£ç¡®: åˆ†å±‚æ¶æ„
Controller â†’ Service â†’ Repository â†’ Database
```

### 2. Golden Hammer (é‡‘é”¤å­)
**ç‰¹å¾**: æ‰€æœ‰é—®é¢˜éƒ½ç”¨åŒä¸€ç§è§£å†³æ–¹æ¡ˆ
```typescript
// âŒ åæ¨¡å¼: å…¨éƒ¨ç”¨Redisè§£å†³
// ç”¨Redisåšæ¶ˆæ¯é˜Ÿåˆ—
// ç”¨Redisåšç¼“å­˜
// ç”¨Redisåšä¼šè¯å­˜å‚¨
// ç”¨Redisåšæ’è¡Œæ¦œ
// ç”¨Redisåšåˆ†å¸ƒå¼é”

// âœ… æ­£ç¡®: é€‰æ‹©åˆé€‚çš„å·¥å…·
æ¶ˆæ¯é˜Ÿåˆ— â†’ RabbitMQ/Kafka
ç¼“å­˜ â†’ Redis/Memcached
ä¼šè¯ â†’ Redis/æ•°æ®åº“
```

### 3. God Object (ä¸Šå¸å¯¹è±¡)
**ç‰¹å¾**: ä¸€ä¸ªç±»/å¯¹è±¡çŸ¥é“å¤ªå¤š,åšå¤ªå¤š
```typescript
// âŒ åæ¨¡å¼: Userç±»åŒ…å«æ‰€æœ‰é€»è¾‘
class User {
  // åŸºæœ¬ä¿¡æ¯
  id: string;
  name: string;

  // ä¸šåŠ¡é€»è¾‘
  sendEmail() { }
  processPayment() { }
  generateReport() { }
  updateProfile() { }
  deleteAccount() { }
  // ... 50ä¸ªæ–¹æ³•
}

// âœ… æ­£ç¡®: å•ä¸€èŒè´£
class User { id: string; name: string; }
class EmailService { send(to: string) { } }
class PaymentService { process(amount: number) { } }
```

### 4. Magic Numbers (é­”æ³•æ•°å­—)
```typescript
// âŒ åæ¨¡å¼: ä¸æ˜æ„ä¹‰çš„æ•°å­—
if (user.status === 3) { }
const timeout = 86400;

// âœ… æ­£ç¡®: å‘½åå¸¸é‡
const USER_STATUS_ACTIVE = 3;
const SECONDS_PER_DAY = 86400;

if (user.status === USER_STATUS_ACTIVE) { }
const timeout = SECONDS_PER_DAY;
```

### 5. Primitive Obsession (åŸºæœ¬ç±»å‹åæ‰§)
```typescript
// âŒ åæ¨¡å¼: åˆ°å¤„ç”¨å­—ç¬¦ä¸²
function createUser(email: string, password: string) { }
function updateUser(id: string, email: string) { }

// âœ… æ­£ç¡®: ä½¿ç”¨å€¼å¯¹è±¡
class Email { constructor(private value: string) { } }
class UserId { constructor(private value: string) { } }

function createUser(email: Email, password: string) { }
function updateUser(id: UserId, email: Email) { }
```
```

#### D. ADRæ¨¡æ¿ (1KB)

```markdown
## ğŸ“‹ æ¶æ„å†³ç­–è®°å½• (ADR) æ¨¡æ¿

### åˆ›å»ºæ–°ADRæ—¶ä½¿ç”¨:

```markdown
# ADR-XXX: [å†³ç­–æ ‡é¢˜]

## çŠ¶æ€
[æè®®/å·²æ¥å—/å·²å¼ƒç”¨/å·²æ›¿ä»£]

## ä¸Šä¸‹æ–‡
[æè¿°é—®é¢˜æˆ–éœ€æ±‚]

## å†³ç­–
[æˆ‘ä»¬åšå‡ºçš„å†³ç­–]

## åŸå› 
[ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ–¹æ¡ˆè€Œéå…¶ä»–æ–¹æ¡ˆ]

## åæœ
[é‡‡ç”¨è¿™ä¸ªå†³ç­–çš„ç»“æœ]

## æ›¿ä»£æ–¹æ¡ˆ
[è€ƒè™‘è¿‡ä½†æœªé‡‡ç”¨çš„å…¶ä»–æ–¹æ¡ˆ]

## å‚è€ƒèµ„æ–™
[ç›¸å…³é“¾æ¥]
```

### ç¤ºä¾‹:

```markdown
# ADR-001: ä½¿ç”¨Prismaä½œä¸ºORM

## çŠ¶æ€
å·²æ¥å—

## ä¸Šä¸‹æ–‡
æˆ‘ä»¬éœ€è¦ä¸€ä¸ªORMæ¥ç®¡ç†æ•°æ®åº“æ“ä½œ,éœ€è¦:
- TypeScriptç±»å‹å®‰å…¨
- è‰¯å¥½çš„è¿ç§»æ”¯æŒ
- æ´»è·ƒçš„ç¤¾åŒº

## å†³ç­–
é‡‡ç”¨Prismaä½œä¸ºé¡¹ç›®çš„ORMæ¡†æ¶

## åŸå› 
- âœ… æœ€ä½³çš„TypeScriptæ”¯æŒ(è‡ªåŠ¨ç”Ÿæˆç±»å‹)
- âœ… å¼ºå¤§çš„è¿ç§»ç³»ç»Ÿ
- âœ… ä¼˜ç§€çš„å¼€å‘ä½“éªŒ(Prisma Studio)
- âœ… æ€§èƒ½ä¼˜äºTypeORM

## åæœ
- æ­£é¢: ç±»å‹å®‰å…¨,å‡å°‘bug
- æ­£é¢: å¼€å‘æ•ˆç‡æå‡
- è´Ÿé¢: éœ€è¦å­¦ä¹ Prisma DSL
- è´Ÿé¢: å¢åŠ æ„å»ºå¤æ‚åº¦(éœ€è¦ç”Ÿæˆå®¢æˆ·ç«¯)

## æ›¿ä»£æ–¹æ¡ˆ
- TypeORM: è£…é¥°å™¨é£æ ¼,ä½†æ€§èƒ½è¾ƒå·®
- Sequelize: æˆç†Ÿç¨³å®š,ä½†ç±»å‹æ”¯æŒå¼±
- Drizzle: æ€§èƒ½æœ€ä½³,ä½†ç”Ÿæ€è¾ƒæ–°

## å‚è€ƒèµ„æ–™
- https://www.prisma.io/docs
- Prisma vs TypeORM benchmarks
```
```

---

### 3.2 Backend Agentä¼˜åŒ–

**ä¿æŒ**: æ‰€æœ‰ç°æœ‰å†…å®¹(å®Œæ•´ä»£ç æ¨¡æ¿ã€æµ‹è¯•ç¤ºä¾‹)

**æ–°å¢å†…å®¹**:

#### A. åç«¯æ¨¡å¼ç« èŠ‚ (1KB)

åœ¨"MCPå·¥å…·å·¥ä½œæµ"åæ·»åŠ :

```markdown
## ğŸ—ï¸ åç«¯æ¶æ„æ¨¡å¼

### Repositoryæ¨¡å¼ (æ•°æ®è®¿é—®æŠ½è±¡)
[å‚è€ƒarchitectçš„"å¸¸è§æ¨¡å¼åº“"ç« èŠ‚]

### Serviceå±‚æ¨¡å¼ (ä¸šåŠ¡é€»è¾‘å°è£…)
[å‚è€ƒarchitectçš„"å¸¸è§æ¨¡å¼åº“"ç« èŠ‚]

### ä¸­é—´ä»¶æ¨¡å¼ (è¯·æ±‚å¤„ç†é“¾)
[å‚è€ƒarchitectçš„"å¸¸è§æ¨¡å¼åº“"ç« èŠ‚]

### Unit of Workæ¨¡å¼ (äº‹åŠ¡ç®¡ç†)
[å‚è€ƒarchitectçš„"å¸¸è§æ¨¡å¼åº“"ç« èŠ‚]
```

#### B. å®‰å…¨æ£€æŸ¥æ¸…å• (0.5KB)

```markdown
## ğŸ”’ å®‰å…¨æ£€æŸ¥æ¸…å•

æ¯ä¸ªAPIå®ç°å‰ç¡®è®¤:
- [ ] è¾“å…¥éªŒè¯(å‚æ•°ç±»å‹ã€æ ¼å¼ã€é•¿åº¦)
- [ ] SQLæ³¨å…¥é˜²æŠ¤(å‚æ•°åŒ–æŸ¥è¯¢/ORM)
- [ ] XSSé˜²æŠ¤(è¾“å‡ºç¼–ç /Content-Security-Policy)
- [ ] CSRFé˜²æŠ¤(CSRF token/SameSite cookie)
- [ ] è®¤è¯æˆæƒ(JWT/OAuth2/RBAC)
- [ ] æ•æ„Ÿæ•°æ®åŠ å¯†(å¯†ç /bcryptã€æ•°æ®/at-reståŠ å¯†)
- [ ] æ•æ„Ÿä¿¡æ¯ä¸æ³„éœ²(æ— æ—¥å¿—ã€æ— é”™è¯¯æ¶ˆæ¯)
- [ ] é€Ÿç‡é™åˆ¶(é˜²æ­¢æš´åŠ›æ”»å‡»)
- [ ] ä¾èµ–å®‰å…¨(npm audit / Snyk)
```

---

### 3.3 Frontend Agentä¼˜åŒ–

**ä¿æŒ**: æ‰€æœ‰ç°æœ‰å†…å®¹(Mock Firstã€çŠ¶æ€ä¼˜å…ˆã€å®Œæ•´ç»„ä»¶)

**æ–°å¢å†…å®¹**:

#### A. å‰ç«¯æ¨¡å¼ç« èŠ‚ (1KB)

åœ¨"MCPå·¥å…·å·¥ä½œæµ"åæ·»åŠ :

```markdown
## ğŸ—ï¸ å‰ç«¯æ¶æ„æ¨¡å¼

### ç»„ä»¶ç»„åˆ (Component Composition)
[å‚è€ƒarchitectçš„"å¸¸è§æ¨¡å¼åº“"ç« èŠ‚]

### å®¹å™¨/å±•ç¤ºå™¨æ¨¡å¼ (Container/Presenter)
[å‚è€ƒarchitectçš„"å¸¸è§æ¨¡å¼åº“"ç« èŠ‚]

### è‡ªå®šä¹‰Hooks (Custom Hooks)
[å‚è€ƒarchitectçš„"å¸¸è§æ¨¡å¼åº“"ç« èŠ‚]
```

#### B. æ€§èƒ½ä¼˜åŒ–æ¸…å• (0.5KB)

```markdown
## âš¡ æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•

### ä»£ç åˆ†å‰²
- [ ] ä½¿ç”¨React.lazy()æ‡’åŠ è½½ç»„ä»¶
- [ ] è·¯ç”±çº§åˆ«ä»£ç åˆ†å‰²(Next.jsè‡ªåŠ¨å¤„ç†)
- [ ] åŠ¨æ€å¯¼å…¥å¤§ä½“ç§¯åº“

### æ¸²æŸ“ä¼˜åŒ–
- [ ] ä½¿ç”¨React.memo()é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
- [ ] ä½¿ç”¨useMemo()ç¼“å­˜è®¡ç®—ç»“æœ
- [ ] ä½¿ç”¨useCallback()ç¨³å®šå‡½æ•°å¼•ç”¨
- [ ] åˆ—è¡¨ä½¿ç”¨keyå±æ€§

### èµ„æºä¼˜åŒ–
- [ ] å›¾ç‰‡æ‡’åŠ è½½
- [ ] å“åº”å¼å›¾ç‰‡(srcset)
- [ ] å­—ä½“å­é›†åŒ–
- [ ] Tree shakingåˆ é™¤æœªä½¿ç”¨ä»£ç 
```

---

### 3.4 Code-Reviewer Agentä¼˜åŒ–

**ä¿æŒ**: æ‰€æœ‰ç°æœ‰å†…å®¹(5ç»´åº¦å®¡æŸ¥ã€ä¸¥é‡ç¨‹åº¦åˆ†çº§)

**æ–°å¢å†…å®¹**:

#### A. ä¸å¯å˜æ€§åŸåˆ™ (1KB)

åœ¨"æœ€ä½³å®è·µå®¡æŸ¥"åæ·»åŠ :

```markdown
## ğŸ”’ ä¸å¯å˜æ€§åŸåˆ™ (Immutability)

### ä¸ºä»€ä¹ˆé‡è¦?
- **å¯é¢„æµ‹æ€§**: ä¸å¯å˜æ•°æ®ä¸ä¼šæ„å¤–æ”¹å˜
- **æ—¶é—´æ—…è¡Œè°ƒè¯•**: Redux DevToolså¯ä»¥å›æº¯çŠ¶æ€
- **å¹¶å‘å®‰å…¨**: æ²¡æœ‰ç«æ€æ¡ä»¶
- **æ›´å®¹æ˜“æµ‹è¯•**: çº¯å‡½æ•°æ›´å®¹æ˜“æµ‹è¯•

### å®è·µè§„èŒƒ

#### âœ… æ­£ç¡®: ä¸å¯å˜æ“ä½œ

**JavaScript/TypeScript**:
```typescript
// æ•°ç»„æ“ä½œ
const items = [1, 2, 3];

// âœ… å¥½: è¿”å›æ–°æ•°ç»„
const newItems = [...items, 4]; // [1, 2, 3, 4]
const filtered = items.filter(x => x > 1); // [2, 3]
const mapped = items.map(x => x * 2); // [2, 4, 6]

// âŒ å·®: ä¿®æ”¹åŸæ•°ç»„
items.push(4); // ä¿®æ”¹äº†items
items.splice(0, 1); // ä¿®æ”¹äº†items

// å¯¹è±¡æ“ä½œ
const user = { name: 'Alice', age: 25 };

// âœ… å¥½: åˆ›å»ºæ–°å¯¹è±¡
const updatedUser = { ...user, age: 26 }; // { name: 'Alice', age: 26 }

// âŒ å·®: ä¿®æ”¹åŸå¯¹è±¡
user.age = 26; // ä¿®æ”¹äº†user
```

**ReactçŠ¶æ€æ›´æ–°**:
```typescript
// âœ… å¥½: å‡½æ•°å¼æ›´æ–°
setCount(prev => prev + 1);
setUsers(prev => [...prev, newUser]);

// âŒ å·®: ç›´æ¥ä¿®æ”¹
count.value++;
users.push(newUser);
```

**Redux/çŠ¶æ€ç®¡ç†**:
```typescript
// âœ… å¥½: è¿”å›æ–°çŠ¶æ€
case 'ADD_USER':
  return {
    ...state,
    users: [...state.users, action.payload]
  };

case 'UPDATE_USER':
  return {
    ...state,
    users: state.users.map(user =>
      user.id === action.payload.id
        ? { ...user, ...action.payload }
        : user
    )
  };

// âŒ å·®: ä¿®æ”¹åŸçŠ¶æ€
case 'ADD_USER':
  state.users.push(action.payload);
  return state;
```

### å®¡æŸ¥æ£€æŸ¥ç‚¹

- [ ] æ•°ç»„æ“ä½œæ˜¯å¦ä½¿ç”¨map/filter/reduceè€Œépush/splice?
- [ ] å¯¹è±¡æ›´æ–°æ˜¯å¦ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦(...)è€Œéç›´æ¥èµ‹å€¼?
- [ ] ReactçŠ¶æ€æ˜¯å¦ä½¿ç”¨setStateå‡½æ•°å¼æ›´æ–°?
- [ ] Redux reduceræ˜¯å¦è¿”å›æ–°å¯¹è±¡è€Œéä¿®æ”¹åŸå¯¹è±¡?
- [ ] å‡½æ•°å‚æ•°æ˜¯å¦è¢«ä¿®æ”¹?(åº”è¯¥ä½¿ç”¨å‰¯æœ¬)

### å·¥å…·æ£€æµ‹

**ESLintè§„åˆ™**:
```json
{
  "rules": {
    "prefer-const": "error",
    "no-var": "error",
    "no-param-reassign": "error"
  }
}
```

**Immutable.js** (å¯é€‰):
```typescript
import { Map, List } from 'immutable';

const state = Map({
  users: List(['Alice', 'Bob'])
});

const newState = state.set('users', state.get('users').push('Charlie'));
// stateä»ç„¶ä¸å˜
```
```

#### B. å®‰å…¨æ¼æ´æ£€æŸ¥å¢å¼º (1KB)

åœ¨"å®‰å…¨æ€§å®¡æŸ¥"åæ·»åŠ :

```markdown
## ğŸš¨ é«˜å±å®‰å…¨æ¼æ´æ¨¡å¼

### OWASP Top 10 å®¡æŸ¥

#### 1. æ³¨å…¥æ¼æ´ (Injection)
**SQLæ³¨å…¥**:
```typescript
// âŒ å±é™©: ç›´æ¥æ‹¼æ¥SQL
const query = `SELECT * FROM users WHERE id = '${userId}'`;

// âœ… å®‰å…¨: å‚æ•°åŒ–æŸ¥è¯¢/ORM
const user = await prisma.user.findUnique({ where: { id: userId } });
```

**NoSQLæ³¨å…¥**:
```typescript
// âŒ å±é™©: ç›´æ¥ä½¿ç”¨ç”¨æˆ·è¾“å…¥
const query = { username: req.body.username };

// âœ… å®‰å…¨: è¾“å…¥éªŒè¯+ç±»å‹è½¬æ¢
const query = {
  username: String(req.body.username).trim()
};
```

#### 2. XSS (è·¨ç«™è„šæœ¬æ”»å‡»)
```typescript
// âŒ å±é™©: ç›´æ¥æ¸²æŸ“ç”¨æˆ·è¾“å…¥
<div dangerouslySetInnerHTML={{ __html: userComment }} />

// âœ… å®‰å…¨: DOMPurifyæ¸…ç†
import DOMPurify from 'dompurify';
const clean = DOMPurify.sanitize(userComment);

// âœ… æ›´å®‰å…¨: Reactè‡ªåŠ¨è½¬ä¹‰
<div>{userComment}</div>
```

#### 3. CSRF (è·¨ç«™è¯·æ±‚ä¼ªé€ )
```typescript
// âŒ å±é™©: æ— CSRFä¿æŠ¤
app.post('/transfer', (req, res) => {
  // ç›´æ¥æ‰§è¡Œè½¬è´¦
});

// âœ… å®‰å…¨: CSRF token
import csrf from 'csurf';
const csrfProtection = csrf({ cookie: true });

app.post('/transfer', csrfProtection, (req, res) => {
  if (req.csrfToken() !== req.body._csrf) {
    return res.status(403).json({ error: 'Invalid CSRF token' });
  }
  // æ‰§è¡Œè½¬è´¦
});
```

#### 4. æ•æ„Ÿä¿¡æ¯æ³„éœ²
```typescript
// âŒ å±é™©: é”™è¯¯æ¶ˆæ¯æš´éœ²ä¿¡æ¯
app.use((err, req, res, next) => {
  res.status(500).json({
    error: err.message,
    stack: err.stack, // æ³„éœ²ä»£ç ç»“æ„
    sql: err.sql // æ³„éœ²æ•°æ®åº“æŸ¥è¯¢
  });
});

// âœ… å®‰å…¨: ç”Ÿäº§ç¯å¢ƒéšè—ç»†èŠ‚
app.use((err, req, res, next) => {
  if (process.env.NODE_ENV === 'production') {
    res.status(500).json({ error: 'Internal server error' });
  } else {
    res.status(500).json({
      error: err.message,
      stack: err.stack
    });
  }
});
```

#### 5. å¼±å¯†ç å“ˆå¸Œ
```typescript
// âŒ å±é™©: MD5/SHA1å“ˆå¸Œ
const hash = crypto.createHash('md5').update(password).digest('hex');

// âœ… å®‰å…¨: bcrypt/scrypt/argon2
const hash = await bcrypt.hash(password, 10);
```

### å®¡æŸ¥æ£€æŸ¥ç‚¹

- [ ] æ‰€æœ‰æ•°æ®åº“æŸ¥è¯¢éƒ½ä½¿ç”¨å‚æ•°åŒ–æˆ–ORM?
- [ ] ç”¨æˆ·è¾“å‡ºéƒ½ç»è¿‡è½¬ä¹‰æˆ–æ¸…ç†?
- [ ] çŠ¶æ€ä¿®æ”¹æ“ä½œæœ‰CSRFä¿æŠ¤?
- [ ] ç”Ÿäº§ç¯å¢ƒä¸æ³„éœ²æ•æ„Ÿé”™è¯¯ä¿¡æ¯?
- [ ] å¯†ç ä½¿ç”¨bcrypt/scrypt/argon2?
- [ ] APIæœ‰é€Ÿç‡é™åˆ¶?
- [ ] æ•æ„Ÿæ•°æ®(å¯†é’¥/å¯†ç )ä¸åœ¨ä»£ç ä¸­?
- [ ] ä¾èµ–åŒ…æ— å·²çŸ¥æ¼æ´(`npm audit`)?
```

---

### 3.5 æ–°å¢: Contextsç³»ç»Ÿ (4ä¸ªæ–‡ä»¶,æ¯ä¸ª0.5KB)

åˆ›å»º`.claude/contexts/`ç›®å½•,æ·»åŠ 4ä¸ªæ¨¡å¼æ–‡ä»¶:

#### A. coding-mode.md

```markdown
# Coding Mode

> **ä¸“æ³¨**: é«˜æ•ˆå¼€å‘,å¿«é€Ÿå®ç°

## ç³»ç»Ÿæç¤ºå¢å¼º

å½“æ­¤æ¨¡å¼æ¿€æ´»æ—¶,åº”ç”¨ä»¥ä¸‹è§„åˆ™:

### å·¥ä½œé£æ ¼
- **é€Ÿåº¦ä¼˜å…ˆ**: å¿«é€Ÿç”Ÿæˆä»£ç ,ä¸è¿‡åº¦è®¾è®¡
- **å®ç”¨ä¸»ä¹‰**: èƒ½ç”¨çš„ä»£ç å°±æ˜¯å¥½ä»£ç 
- **è¿­ä»£ä¼˜åŒ–**: å…ˆå®ç°,å†ä¼˜åŒ–

### è¡Œä¸ºå‡†åˆ™
1. **ç›´æ¥è¾“å‡º**: çœç•¥å†—é•¿çš„è§£é‡Š,ç›´æ¥ç»™ä»£ç 
2. **å®Œæ•´å®ç°**: ä¸€æ¬¡ç»™å®Œæ•´ä»£ç ,ä¸çœç•¥
3. **ä¾èµ–ç®¡ç†**: å‘Šè¯‰ç”¨æˆ·éœ€è¦å®‰è£…ä»€ä¹ˆ
4. **é…ç½®è¯´æ˜**: å‘Šè¯‰ç”¨æˆ·éœ€è¦é…ç½®ä»€ä¹ˆ

### ç¤ºä¾‹å¯¹è¯

**User**: å†™ä¸€ä¸ªç”¨æˆ·ç™»å½•åŠŸèƒ½

**Coding Modeå›å¤**:
```typescript
// src/api/auth/login.ts
import { NextRequest, NextResponse } from 'next/server';
import bcrypt from 'bcrypt';
import jwt from 'jsonwebtoken';

export async function POST(req: NextRequest) {
  try {
    const { email, password } = await req.json();

    const user = await prisma.user.findUnique({ where: { email } });
    if (!user) {
      return NextResponse.json({ error: 'Invalid credentials' }, { status: 401 });
    }

    const valid = await bcrypt.compare(password, user.password);
    if (!valid) {
      return NextResponse.json({ error: 'Invalid credentials' }, { status: 401 });
    }

    const token = jwt.sign(
      { userId: user.id },
      process.env.JWT_SECRET!,
      { expiresIn: '7d' }
    );

    return NextResponse.json({ token, user: { id: user.id, email: user.email } });
  } catch (error) {
    return NextResponse.json({ error: 'Internal server error' }, { status: 500 });
  }
}
```

**éœ€è¦å®‰è£…**: `npm install bcrypt jsonwebtoken`
**ç¯å¢ƒå˜é‡**: `JWT_SECRET=your-secret-key`
```

#### B. review-mode.md

```markdown
# Review Mode

> **ä¸“æ³¨**: ä¸¥æ ¼å®¡æŸ¥,å‘ç°é—®é¢˜

## ç³»ç»Ÿæç¤ºå¢å¼º

å½“æ­¤æ¨¡å¼æ¿€æ´»æ—¶,åº”ç”¨ä»¥ä¸‹è§„åˆ™:

### å·¥ä½œé£æ ¼
- **æ‰¹åˆ¤æ€ç»´**: å¯»æ‰¾æ½œåœ¨é—®é¢˜,ä¸æ”¾è¿‡ä»»ä½•ç–‘ç‚¹
- **å®‰å…¨ç¬¬ä¸€**: ä¼˜å…ˆè¯†åˆ«å®‰å…¨æ¼æ´
- **æ€§èƒ½æ•æ„Ÿ**: å¯»æ‰¾æ€§èƒ½ç“¶é¢ˆ

### å®¡æŸ¥ç»´åº¦
1. **å®‰å…¨æ€§**: SQLæ³¨å…¥ã€XSSã€CSRFã€æƒé™ç»•è¿‡
2. **æ€§èƒ½**: N+1æŸ¥è¯¢ã€å†…å­˜æ³„æ¼ã€ä¸å¿…è¦çš„æ¸²æŸ“
3. **å¯ç»´æŠ¤æ€§**: ä»£ç é‡å¤ã€å‘½åæ··ä¹±ã€ç¼ºä¹æ³¨é‡Š
4. **æµ‹è¯•è¦†ç›–**: æ˜¯å¦ç¼ºå°‘è¾¹ç•Œæƒ…å†µæµ‹è¯•

### è¾“å‡ºæ ¼å¼

```markdown
# ä»£ç å®¡æŸ¥æŠ¥å‘Š

## æ€»ä½“è¯„åˆ†: X/10

## ğŸ”´ ä¸¥é‡é—®é¢˜ (å¿…é¡»ä¿®å¤)
1. **SQLæ³¨å…¥é£é™©** - `src/api/users.ts:15`
   - ç›´æ¥æ‹¼æ¥ç”¨æˆ·è¾“å…¥åˆ°SQLæŸ¥è¯¢
   - ä¿®å¤: ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢

## ğŸŸ¡ ä¸»è¦é—®é¢˜ (åº”è¯¥ä¿®å¤)
1. **N+1æŸ¥è¯¢é—®é¢˜** - `src/services/userService.ts:42`
   - åœ¨å¾ªç¯ä¸­æŸ¥è¯¢æ•°æ®åº“
   - ä¿®å¤: ä½¿ç”¨Promise.allæˆ–JOINæŸ¥è¯¢

## ğŸŸ¢ æ¬¡è¦é—®é¢˜ (å»ºè®®ä¿®å¤)
1. **å‘½åä¸æ¸…æ™°** - `src/utils/d.ts:8`
   - å˜é‡å`d`ä¸æ˜ç¡®
   - å»ºè®®: æ”¹ä¸º`userData`

## âœ… åšå¾—å¥½çš„åœ°æ–¹
- ä½¿ç”¨TypeScriptæä¾›ç±»å‹å®‰å…¨
- é”™è¯¯å¤„ç†å®Œå–„
```
```

#### C. research-mode.md

```markdown
# Research Mode

> **ä¸“æ³¨**: æ·±åº¦ç ”ç©¶,ç†è§£åŸç†

## ç³»ç»Ÿæç¤ºå¢å¼º

å½“æ­¤æ¨¡å¼æ¿€æ´»æ—¶,åº”ç”¨ä»¥ä¸‹è§„åˆ™:

### å·¥ä½œé£æ ¼
- **å¤šæºéªŒè¯**: ä»å¤šä¸ªæ¥æºæ”¶é›†ä¿¡æ¯
- **æ·±åº¦åˆ†æ**: ä¸åªçœ‹è¡¨é¢,ç†è§£åŸç†
- **ä¸»åŠ¨æ¢ç´¢**: ä¸ç­‰ç”¨æˆ·é—®,ä¸»åŠ¨å‘ç°ç›¸å…³é—®é¢˜

### ç ”ç©¶æµç¨‹
1. **Context7æŸ¥è¯¢**: æŸ¥è¯¢å®˜æ–¹æ–‡æ¡£
2. **GitHubæœç´¢**: æŸ¥æ‰¾å®é™…æ¡ˆä¾‹
3. **Firecrawlæœç´¢**: æŸ¥æ‰¾æŠ€æœ¯åšå®¢å’Œå®æˆ˜ç»éªŒ
4. **ç»¼åˆåˆ†æ**: æ•´åˆä¿¡æ¯,ç»™å‡ºæ·±åº¦è§è§£

### è¾“å‡ºæ ¼å¼

```markdown
# [ä¸»é¢˜] æ·±åº¦ç ”ç©¶æŠ¥å‘Š

## æ ¸å¿ƒæ¦‚å¿µ
[æ˜¯ä»€ä¹ˆ,ä¸ºä»€ä¹ˆéœ€è¦]

## å®ç°åŸç†
[å¦‚ä½•å·¥ä½œ,å…³é”®æŠ€æœ¯ç‚¹]

## å®é™…åº”ç”¨
- **æ–¹æ¡ˆA**: [ä¼˜ç¼ºç‚¹]
- **æ–¹æ¡ˆB**: [ä¼˜ç¼ºç‚¹]
- **æ–¹æ¡ˆC**: [ä¼˜ç¼ºç‚¹]

## æœ€ä½³å®è·µ
1. [å®è·µ1] + ä»£ç ç¤ºä¾‹
2. [å®è·µ2] + ä»£ç ç¤ºä¾‹

## å¸¸è§é™·é˜±
1. [é™·é˜±1] + å¦‚ä½•é¿å…
2. [é™·é˜±2] + å¦‚ä½•é¿å…

## å‚è€ƒèµ„æ–™
- [å®˜æ–¹æ–‡æ¡£]
- [ä¼˜ç§€æ–‡ç« ]
- [GitHubé¡¹ç›®]
```
```

#### D. debug-mode.md

```markdown
# Debug Mode

> **ä¸“æ³¨**: å¿«é€Ÿè¯Šæ–­,è§£å†³é—®é¢˜

## ç³»ç»Ÿæç¤ºå¢å¼º

å½“æ­¤æ¨¡å¼æ¿€æ´»æ—¶,åº”ç”¨ä»¥ä¸‹è§„åˆ™:

### è¯Šæ–­æµç¨‹
1. **ç†è§£ç—‡çŠ¶**: å‡†ç¡®æè¿°é—®é¢˜ç°è±¡
2. **æ”¶é›†ä¿¡æ¯**: é”™è¯¯æ¶ˆæ¯ã€æ—¥å¿—ã€å¤ç°æ­¥éª¤
3. **å‡è®¾éªŒè¯**: æå‡ºå¯èƒ½åŸå› ,é€ä¸€éªŒè¯
4. **å®šä½æ ¹å› **: æ‰¾åˆ°çœŸæ­£çš„é—®é¢˜æ‰€åœ¨
5. **æä¾›æ–¹æ¡ˆ**: ç»™å‡ºä¿®å¤æ–¹æ¡ˆå’Œé¢„é˜²æªæ–½

### æé—®æ¡†æ¶
å½“é‡åˆ°bugæ—¶,æŒ‰ä»¥ä¸‹é¡ºåºæé—®:

1. **é”™è¯¯æ¶ˆæ¯æ˜¯ä»€ä¹ˆ?**
2. **å¤ç°æ­¥éª¤æ˜¯ä»€ä¹ˆ?**
3. **é¢„æœŸè¡Œä¸º vs å®é™…è¡Œä¸º?**
4. **æœ€è¿‘æ”¹åŠ¨äº†ä»€ä¹ˆ?**
5. **ç¯å¢ƒä¿¡æ¯?(Nodeç‰ˆæœ¬ã€OSã€æµè§ˆå™¨)**

### Chrome DevToolsä½¿ç”¨
- **Console**: æŸ¥çœ‹é”™è¯¯æ¶ˆæ¯
- **Network**: æ£€æŸ¥APIè¯·æ±‚/å“åº”
- **Performance**: åˆ†ææ€§èƒ½ç“¶é¢ˆ
- **Elements**: æ£€æŸ¥DOMå’Œæ ·å¼

### è¾“å‡ºæ ¼å¼

```markdown
# Bugè¯Šæ–­æŠ¥å‘Š

## é—®é¢˜æè¿°
[ç”¨æˆ·æŠ¥å‘Šçš„é—®é¢˜]

## é”™è¯¯ä¿¡æ¯
```
[é”™è¯¯å †æ ˆ]
```

## è¯Šæ–­è¿‡ç¨‹
1. **å‡è®¾1**: [å‡è®¾] â†’ [éªŒè¯ç»“æœ] â†’ [ç»“è®º]
2. **å‡è®¾2**: [å‡è®¾] â†’ [éªŒè¯ç»“æœ] â†’ [ç»“è®º]

## æ ¹æœ¬åŸå› 
[çœŸæ­£çš„bugæ‰€åœ¨]

## ä¿®å¤æ–¹æ¡ˆ
```diff
- [é”™è¯¯ä»£ç ]
+ [æ­£ç¡®ä»£ç ]
```

## é¢„é˜²æªæ–½
- [å¦‚ä½•é¿å…ç±»ä¼¼é—®é¢˜]
```
```

---

### 3.6 æ–°å¢: Hooksç³»ç»Ÿ

åˆ›å»º`.claude/hooks/hooks.json`(Windowsä¼˜åŒ–ç‰ˆ):

```json
{
  "hooks": {
    "SessionStart": [
      {
        "id": "clean-temp-files",
        "description": "æ¸…ç†ä¸´æ—¶æ–‡ä»¶",
        "command": "powershell -Command \"Get-ChildItem -Path '.claude-temp' -Recurse | Where-Object { $_.LastWriteTime -lt (Get-Date).AddDays(-7) } | Remove-Item -Force\""
      }
    ],
    "SessionEnd": [
      {
        "id": "save-session-summary",
        "description": "ä¿å­˜å¯¹è¯æ‘˜è¦åˆ°ä¸´æ—¶æ–‡æ¡£",
        "command": "powershell -File .claude/hooks/save-summary.ps1"
      }
    ],
    "PreToolUse": [
      {
        "id": "check-file-changes",
        "description": "å†™å…¥æ–‡ä»¶å‰æ£€æŸ¥gitçŠ¶æ€",
        "toolPattern": "Write|Edit",
        "command": "powershell -Command \"git status --short\""
      }
    ],
    "PostToolUse": [
      {
        "id": "format-code",
        "description": "è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç (å¦‚æœå­˜åœ¨prettier)",
        "toolPattern": "Write|Edit",
        "filePattern": "\\.(ts|tsx|js|jsx|json|md)$",
        "command": "powershell -Command \"if (Test-Path 'node_modules/.bin/prettier') { & node_modules/.bin/prettier --write $file }\""
      }
    ]
  }
}
```

---

### 3.7 æ–°å¢: ç¼–ç è§„èŒƒæ–‡ä»¶

åˆ›å»º`.claude/rules/coding-style.md`(1.5KB):

```markdown
# ç¼–ç è§„èŒƒè§„åˆ™

> **ç‰ˆæœ¬**: v1.0
> **ç”Ÿæ•ˆæ—¥æœŸ**: 2026-01-22

---

## æ ¸å¿ƒåŸåˆ™

### 1. ä¸å¯å˜æ€§ä¼˜å…ˆ (Immutability First)

**è§„åˆ™**: é™¤éæœ‰æ˜ç¡®æ€§èƒ½éœ€æ±‚,å¦åˆ™é»˜è®¤ä½¿ç”¨ä¸å¯å˜æ“ä½œ

**JavaScript/TypeScript**:
```typescript
// âœ… å¥½: ä¸å¯å˜
const newArr = [...arr, newItem];
const newObj = { ...obj, newProp: value };

// âŒ å·®: å¯å˜
arr.push(newItem);
obj.newProp = value;
```

**ReactçŠ¶æ€**:
```typescript
// âœ… å¥½: å‡½æ•°å¼æ›´æ–°
setState(prev => prev + 1);

// âŒ å·®: ç›´æ¥ä¿®æ”¹
state.value++;
```

### 2. çº¯å‡½æ•°ä¼˜å…ˆ (Pure Functions First)

**è§„åˆ™**: å‡½æ•°åº”è¯¥æ˜¯çº¯å‡½æ•°(ç›¸åŒè¾“å…¥â†’ç›¸åŒè¾“å‡º,æ— å‰¯ä½œç”¨)

```typescript
// âœ… å¥½: çº¯å‡½æ•°
function addUser(users: User[], user: User): User[] {
  return [...users, user];
}

// âŒ å·®: æœ‰å‰¯ä½œç”¨
function addUser(users: User[], user: User): void {
  users.push(user); // ä¿®æ”¹äº†è¾“å…¥å‚æ•°
}
```

### 3. æ˜¾å¼é”™è¯¯å¤„ç† (Explicit Error Handling)

**è§„åˆ™**: ä¸åå™¬é”™è¯¯,ä¸ä½¿ç”¨anyç±»å‹

```typescript
// âœ… å¥½: æ˜¾å¼å¤„ç†
async function fetchData(): Promise<Data> {
  try {
    const response = await fetch(url);
    if (!response.ok) {
      throw new Error(`HTTP ${response.status}`);
    }
    return await response.json();
  } catch (error) {
    console.error('Fetch failed:', error);
    throw error; // é‡æ–°æŠ›å‡º
  }
}

// âŒ å·®: åå™¬é”™è¯¯
async function fetchData(): Promise<any> {
  try {
    return await fetch(url).then(r => r.json());
  } catch (e) {
    return null; // é”™è¯¯è¢«åå™¬
  }
}
```

### 4. ç±»å‹å®‰å…¨ (Type Safety)

**è§„åˆ™**: é¿å…any,ä½¿ç”¨å…·ä½“ç±»å‹

```typescript
// âœ… å¥½: å…·ä½“ç±»å‹
interface User {
  id: string;
  name: string;
}
function getUser(id: string): Promise<User> { }

// âŒ å·®: anyç±»å‹
function getUser(id: string): Promise<any> { }
```

### 5. å‘½åæ¸…æ™° (Clear Naming)

**è§„åˆ™**: åå­—åº”è¯¥æè¿°"æ˜¯ä»€ä¹ˆ"æˆ–"åšä»€ä¹ˆ"

```typescript
// âœ… å¥½: æ¸…æ™°
const isAuthenticated = true;
function fetchUserData() { }
class UserRepository { }

// âŒ å·®: æ¨¡ç³Š
const flag = true;
function process() { }
class Manager { }
```

---

## è¯­è¨€ç‰¹å®šè§„èŒƒ

### TypeScript/JavaScript

1. **ä½¿ç”¨constä¼˜äºletä¼˜äºvar**
2. **ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²è€Œéå­—ç¬¦ä¸²æ‹¼æ¥**
3. **ä½¿ç”¨å¯é€‰é“¾(?.)è€Œéæ·±åº¦è®¿é—®**
4. **ä½¿ç”¨ç©ºå€¼åˆå¹¶(??)è€Œé||**

```typescript
// âœ… å¥½
const name = user?.profile?.name ?? 'Unknown';

// âŒ å·®
const name = user && user.profile && user.profile.name || 'Unknown';
```

### React

1. **ç»„ä»¶å‘½å: PascalCase**
2. **Hookå‘½å: camelCaseä¸”ä»¥useå¼€å¤´**
3. **äº‹ä»¶å¤„ç†: handleå‰ç¼€**
4. **å¸ƒå°”props: is/has/showå‰ç¼€**

```typescript
// âœ… å¥½
function UserList() { }
const useUsers = () => { };
const handleClick = () => { };
<UserCard isVisible={true} />

// âŒ å·®
function userList() { }
const getUsers = () => { };
const click = () => { };
<UserCard visible={true} />
```

### CSS/Tailwind

1. **ä½¿ç”¨è¯­ä¹‰åŒ–ç±»åè€Œéè§†è§‰ç±»å**
2. **ä¼˜å…ˆä½¿ç”¨utilityç±»è€Œéè‡ªå®šä¹‰CSS**

```tsx
// âœ… å¥½: è¯­ä¹‰åŒ–
<div className="user-card">

// âŒ å·®: è§†è§‰æè¿°
<div className="blue-rounded-box">
```

---

## ç¦æ­¢æ¨¡å¼

1. **ç¦æ­¢**ç›´æ¥ä¿®æ”¹props
2. **ç¦æ­¢**åœ¨useEffectä¸­ç¼ºå¤±ä¾èµ–
3. **ç¦æ­¢**åœ¨renderä¸­äº§ç”Ÿå‰¯ä½œç”¨
4. **ç¦æ­¢**ä½¿ç”¨é­”æ³•æ•°å­—
5. **ç¦æ­¢**è£¸catch(è‡³å°‘è®°å½•æ—¥å¿—)

```typescript
// âŒ å…¨éƒ¨ç¦æ­¢
function Component(props) {
  props.data.push({}); // ç¦æ­¢ä¿®æ”¹props
  useEffect(() => { }, []); // ç¦æ­¢ç¼ºå¤±ä¾èµ–
  console.log('side effect'); // ç¦æ­¢renderä¸­çš„å‰¯ä½œç”¨
  if (status === 3) { } // ç¦æ­¢é­”æ³•æ•°å­—
  try { } catch { } // ç¦æ­¢è£¸catch
}
```

---

## æ£€æŸ¥æ¸…å•

æäº¤ä»£ç å‰ç¡®è®¤:
- [ ] æ— `any`ç±»å‹(é™¤éæœ‰æ˜ç¡®æ³¨é‡Šè¯´æ˜åŸå› )
- [ ] æ— `console.log`è°ƒè¯•ä»£ç 
- [ ] æ‰€æœ‰å¼‚æ­¥æ“ä½œéƒ½æœ‰é”™è¯¯å¤„ç†
- [ ] æ— é­”æ³•æ•°å­—(ä½¿ç”¨å‘½åå¸¸é‡)
- [ ] å‡½æ•°å‘½åæ¸…æ™°(ä¸ä½¿ç”¨`data`, `info`, `handle`ç­‰æ¨¡ç³Šè¯)
- [ ] ç»„ä»¶/å˜é‡/å‡½æ•°å‘½åä¸€è‡´
- [ ] æ— æ³¨é‡Šæ‰çš„ä»£ç å—(ç”¨gitç®¡ç†å†å²)
- [ ] æ•æ„Ÿä¿¡æ¯ä¸åœ¨ä»£ç ä¸­(ä½¿ç”¨ç¯å¢ƒå˜é‡)
