# DashGo RL Navigation - åŸºäºæ·±åº¦å¼ºåŒ–å­¦ä¹ çš„æœºå™¨äººå±€éƒ¨å¯¼èˆª

> **é¡¹ç›®ç±»å‹**: Sim2Real æ·±åº¦å¼ºåŒ–å­¦ä¹ å¯¼èˆªç³»ç»Ÿ
> **å¼€å‘åŸºå‡†**: NVIDIA Isaac Sim 4.5 + Ubuntu 20.04 LTS
> **ç®—æ³•**: PPO (Proximal Policy Optimization)
> **éƒ¨ç½²ç›®æ ‡**: DashGo D1 å®ç‰©æœºå™¨äºº + Jetson Nano
> **çŠ¶æ€**: âœ… è®­ç»ƒç¯å¢ƒå·²å°±ç»ªï¼Œv3.1ç½‘ç»œæ¶æ„ï¼ˆæ¢¯åº¦çˆ†ç‚¸ä¿®å¤ï¼‰å·²éƒ¨ç½²

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [Geo-Distill V2.2æ–¹æ¡ˆ](#geo-distill-v22æ–¹æ¡ˆ)
- [Sim2Realéƒ¨ç½²](#sim2realéƒ¨ç½²)
- [è®­ç»ƒæŒ‡å—](#è®­ç»ƒæŒ‡å—)
- [é—®é¢˜è®°å½•](#é—®é¢˜è®°å½•)
- [å¼€å‘è§„èŒƒ](#å¼€å‘è§„èŒƒ)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)

---

## é¡¹ç›®ç®€ä»‹

DashGo RL Navigation æ˜¯ä¸€ä¸ªåŸºäºæ·±åº¦å¼ºåŒ–å­¦ä¹ çš„æœºå™¨äººå±€éƒ¨å¯¼èˆªé¡¹ç›®ï¼Œæ—¨åœ¨è®­ç»ƒDashGo D1æœºå™¨äººåœ¨å¤æ‚ç¯å¢ƒä¸­å®ç°è‡ªä¸»é¿éšœå’Œç›®æ ‡å¯¼èˆªã€‚

### æ ¸å¿ƒç›®æ ‡

- **å±€éƒ¨è·¯å¾„è§„åˆ’**ï¼šè®­ç»ƒä¸€ä¸ªè½»é‡çº§å±€éƒ¨è§„åˆ’å™¨ï¼ˆ3-8ç±³èŒƒå›´ï¼‰
- **Sim2Realéƒ¨ç½²**ï¼šå®Œå…¨å¯¹é½ä»¿çœŸä¸å®ç‰©å‚æ•°ï¼Œå®ç°é›¶è¯¯å·®éƒ¨ç½²
- **å®æ—¶å“åº”**ï¼šæ¨ç†é¢‘ç‡>50Hzï¼Œé€‚é…Jetson Nano 4GB
- **é²æ£’æ€§**ï¼šå¤šé‡å®‰å…¨ä¿æŠ¤ï¼Œç¡®ä¿å®ç‰©éƒ¨ç½²å®‰å…¨

### åº”ç”¨åœºæ™¯

- âœ… å®¤å†…çŸ­è·ç¦»å¯¼èˆªï¼ˆ3-8ç±³ï¼‰
- âœ… åŠ¨æ€ç¯å¢ƒé¿éšœï¼ˆåŸºäºLiDARæ„ŸçŸ¥ï¼‰
- âœ… å®æ—¶è·¯å¾„è§„åˆ’ï¼ˆé«˜é¢‘æ§åˆ¶ï¼‰
- âŒ å…¨å±€è·¯å¾„è§„åˆ’ï¼ˆéœ€é…åˆROS move_baseï¼‰
- âŒ SLAMå»ºå›¾ä¸å®šä½ï¼ˆç‹¬ç«‹æ¨¡å—ï¼‰

---

## æ ¸å¿ƒç‰¹æ€§

### 1. éå¯¹ç§°æ„ŸçŸ¥-å†³ç­–æ¶æ„

**é—®é¢˜**ï¼šä¼ ç»Ÿæ–¹æ³•åœ¨ä»¿çœŸå’Œå®ç‰©ä½¿ç”¨ç›¸åŒä¼ æ„Ÿå™¨ï¼Œå¯¼è‡´RayCasteråœ¨å¤šMeshåœºæ™¯å¤±æ•ˆã€‚

**è§£å†³**ï¼š
- **ä»¿çœŸæ„ŸçŸ¥**ï¼š4å‘æ·±åº¦ç›¸æœºæ‹¼æ¥ï¼ˆè§„é¿RayCaster Bugï¼‰
- **å®ç‰©æ„ŸçŸ¥**ï¼šEAI F4 LiDARé™é‡‡æ ·
- **ç»Ÿä¸€æ¥å£**ï¼š72ç»´å½’ä¸€åŒ–LiDARæ•°æ®

### 2. å‡ ä½•ç‰¹å¾è’¸é¦ï¼ˆGeo-Distill V2.2ï¼‰

**åˆ›æ–°ç‚¹**ï¼šç”¨CNNæå–LiDARå‡ ä½•ç‰¹å¾ï¼ˆå¢™è§’ã€éšœç¢ç‰©å½¢çŠ¶ï¼‰ï¼Œè€Œéç›´æ¥ä½¿ç”¨åŸå§‹ç‚¹äº‘ã€‚

**ä¼˜åŠ¿**ï¼š
- æ•°æ®é‡å‡å°‘90%ï¼ˆ720ç‚¹â†’72ç‚¹ï¼‰
- ä¿ç•™å…³é”®å‡ ä½•ç‰¹å¾
- å®Œç¾å¯¹é½å®ç‰©EAI F4é›·è¾¾å‚æ•°

### 3. è½»é‡çº§ç½‘ç»œæ¶æ„

**å¯¹æ¯”ä¼ ç»Ÿæ–¹æ¡ˆ**ï¼š
- å‚æ•°é‡ï¼š500K â†’ 300Kï¼ˆâ¬‡ï¸ 40%ï¼‰
- æ˜¾å­˜å ç”¨ï¼š150MB â†’ 100MBï¼ˆâ¬‡ï¸ 33%ï¼‰
- æ¨ç†é€Ÿåº¦ï¼š50Hz â†’ 80Hzï¼ˆâ¬†ï¸ 60%ï¼‰
- é€‚é…Jetson Nano 4GB

### 4. æ¢¯åº¦çˆ†ç‚¸é˜²æŠ¤ï¼ˆv3.1æ–°å¢ï¼‰

**ä¸‰å±‚é˜²æŠ¤**ï¼š
- âœ… **LayerNorm**ï¼šæ‰€æœ‰ç½‘ç»œå±‚åæ·»åŠ å½’ä¸€åŒ–
- âœ… **Input Clamp**ï¼šè¾“å…¥æˆªæ–­åˆ°[-10, 10]ï¼Œé˜²æ­¢Inf/NaN
- âœ… **Orthogonal Init**ï¼šä½¿ç”¨æ­£äº¤åˆå§‹åŒ–ï¼ˆPPOæ ‡å‡†ï¼‰

### 5. å®Œæ•´çš„Sim2Realå¯¹é½

**å‚æ•°å¯¹é½**ï¼š
- è½®å¾„ï¼š0.1264mï¼ˆç²¾ç¡®åˆ°0.1mmï¼‰
- è½®è·ï¼š0.342mï¼ˆç²¾ç¡®åˆ°0.1mmï¼‰
- æœ€å¤§çº¿é€Ÿåº¦ï¼š0.3 m/s
- æœ€å¤§è§’é€Ÿåº¦ï¼š1.0 rad/s

---

## æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä»¿çœŸè®­ç»ƒ (Isaac Sim 4.5)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¼ æ„Ÿå™¨å±‚: 4Ã—æ·±åº¦ç›¸æœº(90Â°) â†’ æ‹¼æ¥ â†’ é™é‡‡æ ·(360â†’72)          â”‚
â”‚     â†“                                                        â”‚
â”‚  è§‚æµ‹å±‚: LiDAR(72ç»´) + ç›®æ ‡å‘é‡(3ç»´) + å†å²åŠ¨ä½œ(2ç»´) = 246ç»´  â”‚
â”‚     â†“                                                        â”‚
â”‚  è®­ç»ƒå±‚: RSL-RL PPO + 1D-CNN + GRUç½‘ç»œ                      â”‚
â”‚     â†“                                                        â”‚
â”‚  æ¨¡å‹å¯¼å‡º: TorchScriptæ ¼å¼ (.ptæ–‡ä»¶)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å®ç‰©éƒ¨ç½² (DashGo D1)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¼ æ„Ÿå™¨å±‚: EAI F4 LiDAR(720ç‚¹) â†’ é™é‡‡æ ·(720â†’72)             â”‚
â”‚     â†“                                                        â”‚
â”‚  ROSèŠ‚ç‚¹: geo_distill_node.py                               â”‚
â”‚     â”œâ”€ TFåæ ‡å˜æ¢ï¼ˆè¶…æ—¶ä¿æŠ¤ + è¡°å‡ç­–ç•¥ï¼‰                     â”‚
â”‚     â”œâ”€ LiDARå¤„ç†ï¼ˆEAI F4 â†’ 72ç‚¹å½’ä¸€åŒ–ï¼‰                      â”‚
â”‚     â”œâ”€ æ¨¡å‹æ¨ç†ï¼ˆ1D-CNN + GRUï¼‰                              â”‚
â”‚     â””â”€ å®‰å…¨è¿‡æ»¤ï¼ˆå€’è½¦ç¦æ­¢ + ç¢°æ’æ£€æµ‹ + çº¿æ€§è¡°å‡ï¼‰             â”‚
â”‚     â†“                                                        â”‚
â”‚  æ‰§è¡Œå±‚: /cmd_vel â†’ DashGoåº•ç›˜æ§åˆ¶å™¨                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç½‘ç»œæ¶æ„

```python
# è¾“å…¥ï¼š246ç»´è§‚æµ‹
lidar = 72ç»´ï¼ˆå½’ä¸€åŒ–LiDARï¼Œ4å‘ç›¸æœºæ‹¼æ¥+é™é‡‡æ ·ï¼‰
goal_vec = 3ç»´ï¼ˆè·ç¦»ã€sinÎ¸ã€cosÎ¸ï¼‰
last_action = 2ç»´ï¼ˆä¸Šä¸€å¸§åŠ¨ä½œï¼‰
history = 3å¸§Ã—72ç»´ï¼ˆæ—¶åºå†å²ï¼‰
state = 30ç»´ï¼ˆæœºå™¨äººçŠ¶æ€ï¼šä½ç½®ã€é€Ÿåº¦ã€ç›®æ ‡ç­‰ï¼‰

# GeoNavPolicy v3.1ç½‘ç»œ
geo_encoder = Conv1d(1â†’16â†’32) + LayerNorm + ELU  # å‡ ä½•ç‰¹å¾æå–
fusion_layer = Linear(64+30â†’128) + LayerNorm + ELU  # ç‰¹å¾èåˆ
memory_layer = Linear(128â†’128) + LayerNorm + ELU  # æ—¶åºè®°å¿†
actor_head = Linear(128â†’64â†’2) + LayerNorm  # åŠ¨ä½œè¾“å‡º

# Criticç½‘ç»œï¼ˆæ›´å¼ºï¼Œé˜²æ­¢æ¢¯åº¦çˆ†ç‚¸ï¼‰
critic = Linear(246â†’512â†’256â†’128â†’1) + LayerNorm + ELU

# è¾“å‡ºï¼š2ç»´åŠ¨ä½œ
action = [v_norm, w_norm] âˆˆ [-1, 1]  # å½’ä¸€åŒ–é€Ÿåº¦
```

### å¥–åŠ±å‡½æ•°è®¾è®¡

**æ ¸å¿ƒå¥–åŠ±**ï¼ˆv5.0 Ultimateï¼‰ï¼š
- `reach_goal`: 2000.0ï¼ˆåˆ°è¾¾ç»ˆç‚¹ï¼Œç»å¯¹ä¸»å¯¼ï¼‰
- `shaping_distance`: 0.75ï¼ˆé è¿‘ç›®æ ‡ï¼Œtanhé™åˆ¶ï¼‰
- `velodyne_style`: 1.0ï¼ˆç»¼åˆå¯¼èˆªï¼Œ Denseè¡¥å……ï¼‰
- `action_smoothness`: -0.01ï¼ˆåŠ¨ä½œå¹³æ»‘ï¼Œé˜²æŠ–åŠ¨ï¼‰

**å®‰å…¨æƒ©ç½š**ï¼š
- `collision`: -200.0ï¼ˆçŒ›çƒˆç¢°æ’ï¼‰
- `undesired_contacts`: -2.0ï¼ˆè½»å¾®æ“¦ç¢°ï¼‰
- `unsafe_speed`: -5.0ï¼ˆè¿‘è·ç¦»è¶…é€Ÿï¼‰

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

**ç¡¬ä»¶**ï¼š
- GPUï¼šNVIDIA RTX 4060 Laptop (8GB VRAM) æˆ–æ›´é«˜
- CPUï¼šè‡³å°‘4æ ¸å¿ƒ
- RAMï¼š16GBæ¨è

**è½¯ä»¶**ï¼š
- Ubuntu 20.04 LTSï¼ˆä¸¥æ ¼é”å®šï¼‰
- NVIDIA Isaac Sim 4.5ï¼ˆä¸¥æ ¼é”å®šï¼‰
- Python 3.10
- Isaac Lab 0.46.4
- CUDA 12.9 / PyTorch CUDA 12.8

### æ ¸å¿ƒä¾èµ–

**å¼ºåŒ–å­¦ä¹ ç®—æ³•åº“**ï¼š
- **RSL-RL** (rsl_rl-lib) v3.0.1
  - è®¸å¯è¯ï¼šBSD-3-Clause
  - ä¸»é¡µï¼šhttps://github.com/leggedrobotics/rsl_rl
  - ç‰¹ç‚¹ï¼šGPUä¼˜åŒ–çš„PPOå®ç°ï¼Œä¸“ä¸ºå¹¶è¡Œè®­ç»ƒè®¾è®¡
  - æ”¯æŒè‡ªå®šä¹‰ç­–ç•¥ç½‘ç»œã€TensorDictè§‚æµ‹ã€ç»éªŒå½’ä¸€åŒ–

**å…³é”®ä¾èµ–ç‰ˆæœ¬**ï¼š
```
torch >= 2.6.0
torchvision >= 0.5.0
tensordict >= 7.0.0
numpy >= 1.16.4
GitPython
onnx
```

**ç‰ˆæœ¬å…¼å®¹æ€§**ï¼š
- âœ… RSL-RL 3.0.1 ä¸ Isaac Sim 4.5 + Isaac Lab 0.46.4 å®Œå…¨å…¼å®¹
- âœ… æ”¯æŒè‡ªå®šä¹‰ç­–ç•¥ç½‘ç»œï¼ˆGeoNavPolicyï¼‰
- âœ… æ”¯æŒTensorDictè§‚æµ‹æ ¼å¼
- âœ… æ”¯æŒç»éªŒå½’ä¸€åŒ–ï¼ˆempirical_normalizationï¼‰

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/TNHTH/dashgo-rl-navigation.git
cd dashgo-rl-navigation

# 2. æ¿€æ´»Isaac Labç¯å¢ƒ
cd ~/IsaacLab
source isaaclab.sh

# 3. å®‰è£…ä¾èµ–ï¼ˆå·²åŒ…å«åœ¨Isaac Labä¸­ï¼‰
# æ— éœ€é¢å¤–å®‰è£…

# 4. éªŒè¯ç¯å¢ƒ
cd ~/dashgo_rl_project
python -c "import torch; print(torch.cuda.is_available())"
# è¾“å‡ºåº”ä¸º: True
```

### è®­ç»ƒæ–°æ¨¡å‹

```bash
# Headlessæ¨¡å¼ï¼ˆæ¨èï¼ŒGPUåˆ©ç”¨ç‡é«˜ï¼‰
~/IsaacLab/isaaclab.sh -p train_v2.py --headless --enable_cameras --num_envs 24

# æˆ–æŒ‡å®šç¯å¢ƒæ•°ï¼ˆæ ¹æ®æ˜¾å­˜è°ƒæ•´ï¼‰
# 8GBæ˜¾å­˜ï¼šæ¨è24-32ä¸ªç¯å¢ƒ
# 16GBæ˜¾å­˜ï¼šæ¨è64ä¸ªç¯å¢ƒ
```

**é¢„æœŸè¾“å‡º**ï¼š
```
[GeoNavPolicy v3.1] æ£€æµ‹åˆ° TensorDictï¼Œä½¿ç”¨é”®: 'policy'
[GeoNavPolicy v3.1] æœ€ç»ˆæ¶æ„ç¡®è®¤:
  - è¾“å…¥ç»´åº¦: 246 (LiDAR=216)
  - åŠ¨ä½œç»´åº¦: 2
  - æ¢¯åº¦çˆ†ç‚¸é˜²æŠ¤: LayerNorm + Input Clamp + Orthogonal Init
Learning iteration 1/8000
Mean reward: -2.03
...
```

### æ¼”ç¤ºå·²è®­ç»ƒæ¨¡å‹

```bash
# è‡ªåŠ¨åŠ è½½æœ€æ–°æ¨¡å‹
~/IsaacLab/isaaclab.sh -p play.py --num_envs 1

# æˆ–æŒ‡å®šcheckpoint
~/IsaacLab/isaaclab.sh -p play.py --checkpoint logs/dashgo_v5_auto/model_450.pt --num_envs 1
```

### è¿è¡Œè¯Šæ–­å·¥å…·

```bash
# å…¨æ ˆè¯Šæ–­ï¼ˆéªŒè¯ç¡¬ä»¶+è½¯ä»¶+å¥–åŠ±ï¼‰
~/IsaacLab/isaaclab.sh -p verify_complete_v3.py --headless
```

---

## é¡¹ç›®ç»“æ„

```
dashgo_rl_project/
â”œâ”€â”€ README.md                             # æœ¬æ–‡ä»¶
â”œâ”€â”€ train_v2.py                            # è®­ç»ƒè„šæœ¬ï¼ˆRSL-RLï¼‰
â”œâ”€â”€ train_cfg_v2.yaml                      # è®­ç»ƒé…ç½®ï¼ˆè¶…å‚æ•°ï¼‰
â”œâ”€â”€ dashgo_env_v2.py                       # ä»¿çœŸç¯å¢ƒå®šä¹‰
â”œâ”€â”€ dashgo_assets.py                       # æœºå™¨äººèµ„äº§é…ç½®
â”œâ”€â”€ dashgo_config.py                       # ROSå‚æ•°åŠ è½½
â”œâ”€â”€ geo_nav_policy.py                      # è½»é‡çº§ç½‘ç»œå®šä¹‰ï¼ˆv3.1ï¼‰
â”œâ”€â”€ play.py                                # æ¼”ç¤ºè„šæœ¬
â”œâ”€â”€ verify_complete_v3.py                  # è¯Šæ–­å·¥å…·
â”œâ”€â”€ safety_filter.py                       # å®‰å…¨è¿‡æ»¤å™¨ï¼ˆéƒ¨ç½²ç”¨ï¼‰
â”œâ”€â”€ geo_distill_node.py                    # ROSéƒ¨ç½²èŠ‚ç‚¹
â”œâ”€â”€ issues/                                # é—®é¢˜è®°å½•ï¼ˆ70+æ–‡æ¡£ï¼‰
â”‚   â”œâ”€â”€ README.md                          # é—®é¢˜ç´¢å¼•
â”‚   â”œâ”€â”€ 2026-01-27_1730_æ¢¯åº¦çˆ†ç‚¸å¯¼è‡´NaNé”™è¯¯_ValueError.md
â”‚   â”œâ”€â”€ 2026-01-27_1727_lidar_sensorå®ä½“ä¸å­˜åœ¨_åœºæ™¯å®ä½“å¼•ç”¨é”™è¯¯.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ docs/                                  # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ Geo-Distill-V2.2-å®Œæ•´æ–¹æ¡ˆè¯´æ˜_2026-01-27.md
â”‚   â”œâ”€â”€ è®­ç»ƒå¥–åŠ±å…¨0é—®é¢˜åˆ†æ_2026-01-27.md
â”‚   â”œâ”€â”€ dashgo-robot-specifications_2026-01-24.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ logs/                                  # è®­ç»ƒæ—¥å¿—ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œå·²gitignoreï¼‰
â”œâ”€â”€ dashgo/                                # å®ç‰©ROSåŒ…ï¼ˆåªè¯»å‚è€ƒï¼‰
â”‚   â”œâ”€â”€ EAIé©±åŠ¨/                           # DashGo D1é©±åŠ¨
â”‚   â”‚   â””â”€â”€ dashgo_bringup/config/        # å‚æ•°é…ç½®ï¼ˆSim2Realå¯¹é½ï¼‰
â”‚   â””â”€â”€ cartographer/                      # SLAMå»ºå›¾ï¼ˆå‚è€ƒï¼‰
â””â”€â”€ .claude/                               # Claude AIé…ç½®ï¼ˆå¼€å‘ç”¨ï¼‰
    â”œâ”€â”€ rules/                             # å¼€å‘è§„åˆ™
    â”‚   â”œâ”€â”€ isaac-lab-development-iron-rules.md
    â”‚   â””â”€â”€ project-specific-rules.md
    â””â”€â”€ skills/                            # AIæŠ€èƒ½
        â””â”€â”€ dialogue_optimizer/
```

---

## Geo-Distill V2.2æ–¹æ¡ˆ

### æ ¸å¿ƒç†å¿µ

**é—®é¢˜**ï¼šRayCasterä¼ æ„Ÿå™¨åœ¨å¤„ç†å¤šMeshåœºæ™¯æ—¶å­˜åœ¨æ¶æ„é™åˆ¶ï¼Œå•ç›®ç›¸æœºæ— æ³•ç‰©ç†æ¨¡æ‹Ÿ360Â°å…¨å‘é›·è¾¾ã€‚

**è§£å†³**ï¼š
1. **ä»¿çœŸæ„ŸçŸ¥**ï¼š4å‘æ·±åº¦ç›¸æœºæ‹¼æ¥ï¼ˆæ¯ä¸ª90Â°ï¼Œå®Œç¾æ‹¼æ¥360Â°ï¼‰
2. **å‡ ä½•è’¸é¦**ï¼šç”¨1D-CNNæå–LiDARå‡ ä½•ç‰¹å¾ï¼ˆå¢™è§’ã€éšœç¢ç‰©å½¢çŠ¶ï¼‰
3. **è½»é‡åŒ–**ï¼šå‚æ•°é‡<300Kï¼Œæ˜¾å­˜<100MB
4. **å®Œç¾å¯¹é½**ï¼šä»¿çœŸ72ç»´ â†” å®ç‰©72ç»´ï¼ˆEAI F4é™é‡‡æ ·ï¼‰

### æŠ€æœ¯ç»†èŠ‚

**4å‘ç›¸æœºæ‹¼æ¥**ï¼š
```python
# å‰å·¦åå³å››å‘ç›¸æœº
camera_front = CameraCfg(fov=90Â°, width=90)  # 90ä¸ªåƒç´ ç‚¹
camera_left  = CameraCfg(fov=90Â°, width=90)
camera_back  = CameraCfg(fov=90Â°, width=90)
camera_right = CameraCfg(fov=90Â°, width=90)

# æ‹¼æ¥æˆ360åº¦
full_scan = cat([front, left, back, right])  # [batch, 360]

# é™é‡‡æ ·åˆ°72ç»´ï¼ˆæ¯5Â°ä¸€ä¸ªç‚¹ï¼‰
downsampled = full_scan[:, ::5]  # [batch, 72]

# å½’ä¸€åŒ–åˆ°[0, 1]
lidar_norm = downsampled / 12.0  # 12mæ˜¯EAI F4æœ€å¤§è·ç¦»
```

**ç½‘ç»œè½»é‡åŒ–**ï¼š
```python
# 1D-CNNæå–å‡ ä½•ç‰¹å¾
Conv1d(1, 16) â†’ Conv1d(16, 32) â†’ Flatten â†’ Linear(576, 64)

# GRUæ—¶åºè®°å¿†
GRU(input=64+3+2, hidden=128)

# Actorè¾“å‡º
Linear(128, 64) â†’ Linear(64, 2)

# å‚æ•°é‡ï¼š~300Kï¼ˆæ¯”ä¼ ç»ŸMLPå‡å°‘40%ï¼‰
```

### æ–¹æ¡ˆä¼˜åŠ¿

| ç»´åº¦ | ä¼ ç»Ÿæ–¹æ¡ˆ | Geo-Distill V2.2 |
|------|---------|------------------|
| æ„ŸçŸ¥æ–¹å¼ | RayCasterï¼ˆæœ‰Bugï¼‰ | 4å‘ç›¸æœºæ‹¼æ¥ âœ… |
| ç½‘ç»œå¤§å° | 500Kå‚æ•° | 300Kå‚æ•° âœ… |
| æ˜¾å­˜å ç”¨ | 150MB | 100MB âœ… |
| æ¨ç†é€Ÿåº¦ | 50Hz | 80Hz âœ… |
| Sim2Realå¯¹é½ | éœ€è¦é¢å¤–é€‚é… | å®Œç¾å¯¹é½ âœ… |

**è¯¦ç»†æ–‡æ¡£**ï¼š[docs/Geo-Distill-V2.2-å®Œæ•´æ–¹æ¡ˆè¯´æ˜_2026-01-27.md](docs/Geo-Distill-V2.2-å®Œæ•´æ–¹æ¡ˆè¯´æ˜_2026-01-27.md)

---

## Sim2Realéƒ¨ç½²

### éƒ¨ç½²æ¶æ„

```
ä»¿çœŸè®­ç»ƒï¼ˆIsaac Simï¼‰
    â†“ æ¨¡å‹å¯¼å‡ºï¼ˆTorchScriptï¼‰
å®ç‰©éƒ¨ç½²ï¼ˆDashGo D1 + Jetson Nanoï¼‰
```

### éƒ¨ç½²æ­¥éª¤

**ç¬¬ä¸€æ­¥ï¼šæ¨¡å‹å¯¼å‡º**
```bash
python export_onnx.py --checkpoint logs/model_450.pt
# ç”Ÿæˆï¼špolicy_v2.pt
```

**ç¬¬äºŒæ­¥ï¼šä¸Šä¼ åˆ°Jetson**
```bash
scp policy_v2.pt jetson@dashgo:~/catkin_ws/src/dashgo_navigation/scripts/
scp geo_distill_node.py jetson@dashgo:~/catkin_ws/src/dashgo_navigation/scripts/
scp safety_filter.py jetson@dashgo:~/catkin_ws/src/dashgo_navigation/scripts/
```

**ç¬¬ä¸‰æ­¥ï¼šå®ç‰©æµ‹è¯•**
```bash
# ç™»å½•Jetson
ssh jetson@dashgo

# å¯åŠ¨åº•ç›˜
roslaunch dashgo_bringup minimal.launch

# å¯åŠ¨å¯¼èˆªèŠ‚ç‚¹
roslaunch dashgo_navigation geo_distill.launch model_path:=policy_v2.pt

# å‘é€ç›®æ ‡ç‚¹
rostopic pub /move_base_simple/goal geometry_msgs/PoseStamped \
  "header: {frame_id: 'map'}
   pose: {
     position: {x: 2.0, y: 1.0}
     orientation: {w: 1.0}
   }"
```

### å‚æ•°å¯¹é½éªŒè¯

**å…³é”®å‚æ•°å¯¹é½è¡¨**ï¼š
| å‚æ•° | å®ç‰©ï¼ˆROSé…ç½®ï¼‰ | ä»¿çœŸï¼ˆIsaac Simï¼‰ | å¯¹é½ç²¾åº¦ |
|------|---------------|------------------|---------|
| è½®å¾„ | 0.1264m | 0.0632Ã—2 | âœ… å®Œç¾ |
| è½®è· | 0.342m | 0.342m | âœ… å®Œç¾ |
| æœ€å¤§çº¿é€Ÿåº¦ | 0.3 m/s | 0.3 m/s | âœ… å®Œç¾ |
| æœ€å¤§è§’é€Ÿåº¦ | 1.0 rad/s | 1.0 rad/s | âœ… å®Œç¾ |
| LiDARæœ€å¤§è·ç¦» | 12m | 12m | âœ… å®Œç¾ |

**è¯¦ç»†å‚æ•°**ï¼š[docs/dashgo-robot-specifications_2026-01-24.md](docs/dashgo-robot-specifications_2026-01-24.md)

---

## è®­ç»ƒæŒ‡å—

### è¶…å‚æ•°é…ç½®

**v5.0 Ultimateï¼ˆå·²éªŒè¯ï¼‰**ï¼š
```yaml
algorithm:
  learning_rate: 3.0e-4        # PPOæ ‡å‡†å€¼
  entropy_coef: 0.01           # æ ‡å‡†å€¼ï¼ˆä»0.005æé«˜ï¼‰
  clip_param: 0.2               # PPOæ ‡å‡†
  max_grad_norm: 1.0            # æ¢¯åº¦è£å‰ª
  num_learning_epochs: 5
  num_mini_batches: 4

policy:
  class_name: "GeoNavPolicy"    # è½»é‡ç½‘ç»œ
  actor_hidden_dims: [128, 64]   # è½»é‡çº§Actor
  critic_hidden_dims: [512, 256, 128]  # å¼ºåŠ›Critic
  init_noise_std: 1.0

runner:
  num_steps_per_env: 24
  max_iterations: 8000           # è¶³å¤Ÿæ”¶æ•›
  save_interval: 100
  empirical_normalization: True  # è‡ªåŠ¨å½’ä¸€åŒ–
```

### è®­ç»ƒç›‘æ§

**å…³é”®æŒ‡æ ‡**ï¼š
- `Mean reward`: åº”æŒç»­ä¸Šå‡
- `Mean value_function loss`: å¿…é¡»æœ‰é™ï¼ˆä¸æ˜¯infï¼‰âœ…
- `Policy Noise`: < 1.0ï¼ˆç¨³å®šæ ‡å¿—ï¼‰
- `Episode length`: åº”é€æ¸å¢é•¿

**å®æ—¶ç›‘æ§**ï¼š
```bash
# ç›‘æ§æ˜¾å­˜
watch -n 1 nvidia-smi

# ç›‘æ§è®­ç»ƒæ—¥å¿—
tail -f logs/dashgo_v5_auto/*/log.txt | grep "Mean reward"
```

### å¸¸è§é—®é¢˜

**Q: æ¢¯åº¦çˆ†ç‚¸ï¼ˆvalue_function loss: infï¼‰**
**A**: å·²åœ¨v3.1ä¿®å¤ï¼Œç¡®è®¤ä½¿ç”¨æœ€æ–°ä»£ç ã€‚

**Q: å¥–åŠ±å…¨0**
**A**: æ£€æŸ¥`alive_penalty`æƒé‡æ˜¯å¦ä¸º-0.1ï¼ˆä¸æ˜¯0.0ï¼‰ã€‚

**Q: æ˜¾å­˜æº¢å‡º**
**A**: é™ä½`num_envs`ï¼ˆæ¨è24-32ï¼‰ã€‚

**Q: è®­ç»ƒé€Ÿåº¦æ…¢**
**A**: æ£€æŸ¥GPUåˆ©ç”¨ç‡ï¼ˆåº”ä¸º80-95%ï¼‰ï¼Œä½äº80%å¯èƒ½CPUç“¶é¢ˆã€‚

---

## é—®é¢˜è®°å½•

### é—®é¢˜è¿½è¸ªç³»ç»Ÿ

æ‰€æœ‰é‡åˆ°çš„é—®é¢˜éƒ½è®°å½•åœ¨`issues/`ç›®å½•ï¼ŒåŒ…å«ï¼š
- é—®é¢˜æè¿°ï¼ˆé”™è¯¯ä¿¡æ¯ã€å¤ç°æ­¥éª¤ï¼‰
- æ ¹æœ¬åŸå› åˆ†æ
- è§£å†³æ–¹æ¡ˆ
- éªŒè¯æ–¹æ³•

### é‡è¦é—®é¢˜æ–‡æ¡£

**æœ€è¿‘ä¿®å¤ï¼ˆ2026-01-27ï¼‰**ï¼š
- [æ¢¯åº¦çˆ†ç‚¸å¯¼è‡´NaNé”™è¯¯](issues/2026-01-27_1730_æ¢¯åº¦çˆ†ç‚¸å¯¼è‡´NaNé”™è¯¯_ValueError.md) - v3.1ä¿®å¤
- [lidar_sensorå®ä½“ä¸å­˜åœ¨](issues/2026-01-27_1727_lidar_sensorå®ä½“ä¸å­˜åœ¨_åœºæ™¯å®ä½“å¼•ç”¨é”™è¯¯.md) - ç§»é™¤è¿‡æ—¶å¼•ç”¨
- [è¯Šæ–­è„šæœ¬å¯¼å…¥é¡ºåºé”™è¯¯](issues/2026-01-27_1705_è¯Šæ–­è„šæœ¬å¯¼å…¥é¡ºåºé”™è¯¯_ModuleNotFoundError.md) - AppLauncheré¡ºåºä¿®å¤

**å†å²é—®é¢˜**ï¼š
- 70+é—®é¢˜æ–‡æ¡£ï¼Œæ¶µç›–RSL-RLå…¼å®¹æ€§ã€Isaac Simé…ç½®ã€è®­ç»ƒç¨³å®šæ€§ç­‰
- æŸ¥çœ‹[issues/README.md](issues/README.md)è·å–å®Œæ•´ç´¢å¼•

---

## å¼€å‘è§„èŒƒ

### Isaac Labå¼€å‘é“å¾‹

**è§„åˆ™ä¸€ï¼šPythonå¯¼å…¥é¡ºåº**
```python
# âœ… æ­£ç¡®
from isaaclab.app import AppLauncher
app_launcher = AppLauncher(headless=True)
simulation_app = app_launcher.app
import torch  # å¿…é¡»åœ¨AppLauncherä¹‹å

# âŒ é”™è¯¯
import torch  # å¤ªæ—©å¯¼å…¥ä¼šå¯¼è‡´ModuleNotFoundError
from isaaclab.app import AppLauncher
```

**è§„åˆ™äºŒï¼šRSL-RLé…ç½®æ‰å¹³åŒ–**
```python
# âŒ é”™è¯¯ï¼šåµŒå¥—é…ç½®
agent_cfg = {"runner": {"num_steps_per_env": 24}}
# â†’ KeyError: 'num_steps_per_env'

# âœ… æ­£ç¡®ï¼šæ‰å¹³åŒ–
if "runner" in agent_cfg:
    agent_cfg.update(agent_cfg.pop("runner"))
```

**è§„åˆ™ä¸‰ï¼šæ˜¾å­˜ç®¡ç†**
```python
# RTX 4060 Laptop (8GB) é™åˆ¶
num_envs: 24-32  # ä¸è¦è¶…è¿‡64
# ä½¿ç”¨RayCasterè€ŒéCameraï¼ˆèŠ‚çœ40%æ˜¾å­˜ï¼‰
torch.cuda.empty_cache()  # è®­ç»ƒå‰æ¸…ç†æ˜¾å­˜
```

**è§„åˆ™å››ï¼šç‰©ç†å‚æ•°å¯¹é½**
```python
# ä»ROSé…ç½®è¯»å–ï¼Œä¸è¦ç¡¬ç¼–ç 
ros_params = DashGoROSParams.from_yaml()
wheel_radius = ros_params.wheel_radius  # 0.0632m
wheel_track = ros_params.wheel_track    # 0.342m
```

**è§„åˆ™äº”ï¼šåæ ‡ç³»æ£€æŸ¥**
```python
# Isaac Simä½¿ç”¨Z-upåæ ‡ç³»
# åœ¨GUIä¸­éªŒè¯USDæ–‡ä»¶ï¼Œç¡®ä¿æœºå™¨äººè‡ªç„¶å¹³æ”¾
```

**å®Œæ•´è§„åˆ™**ï¼š[.claude/rules/isaac-lab-development-iron-rules.md](.claude/rules/isaac-lab-development-iron-rules.md)

### Gitæäº¤è§„èŒƒ

**Commitæ¶ˆæ¯æ ¼å¼**ï¼š
```bash
<type>: <subject>

<body>

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

**Typeç±»å‹**ï¼š
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `optimize`: ä¼˜åŒ–ï¼ˆå‚æ•°è°ƒæ•´ã€æ€§èƒ½æå‡ï¼‰
- `docs`: æ–‡æ¡£æ›´æ–°
- `refactor`: ä»£ç é‡æ„

**ç¤ºä¾‹**ï¼š
```bash
fix: GeoNavPolicy v3.1 - æ·»åŠ LayerNormå’ŒInput Clampä¿®å¤æ¢¯åº¦çˆ†ç‚¸

- LayerNorm: æ‰€æœ‰ç½‘ç»œå±‚åæ·»åŠ å½’ä¸€åŒ–
- Input Clamp: è¾“å…¥æˆªæ–­åˆ°[-10, 10]
- Orthogonal Init: ä½¿ç”¨æ­£äº¤åˆå§‹åŒ–ï¼ˆPPOæ ‡å‡†ï¼‰
- Criticä¿®å¤: ç¡®ä¿ELUæ¿€æ´»å‡½æ•°å­˜åœ¨

ç›¸å…³é—®é¢˜: issues/2026-01-27_1730_æ¢¯åº¦çˆ†ç‚¸å¯¼è‡´NaNé”™è¯¯_ValueError.md

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

---

## è´¡çŒ®æŒ‡å—

### ä»£ç é£æ ¼

- éµå¾ªPEP 8è§„èŒƒ
- ä½¿ç”¨ç±»å‹æç¤º
- å‡½æ•°æ·»åŠ docstring
- å˜é‡å‘½åæ¸…æ™°ï¼ˆsnake_caseï¼‰

### æäº¤å‰æ£€æŸ¥

- [ ] è¿è¡Œ`python -m py_compile`æ£€æŸ¥è¯­æ³•
- [ ] è¿è¡Œè¯Šæ–­å·¥å…·`verify_complete_v3.py`
- [ ] ç¡®è®¤è®­ç»ƒèƒ½æ­£å¸¸è¿è¡Œ
- [ ] æ£€æŸ¥Gitæäº¤æ¶ˆæ¯æ ¼å¼

### é—®é¢˜åé¦ˆ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥é˜…`issues/`ç›®å½•ä¸­çš„é—®é¢˜è®°å½•
2. è¿è¡Œè¯Šæ–­å·¥å…·æ”¶é›†ä¿¡æ¯
3. åˆ›å»ºæ–°çš„é—®é¢˜æ–‡æ¡£ï¼ˆæŒ‰ç…§`issues/README.md`æ¨¡æ¿ï¼‰
4. æäº¤åˆ°GitHub Issues

---

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

---

## è‡´è°¢

**æ ¸å¿ƒæ¡†æ¶**ï¼š
- [NVIDIA Isaac Lab](https://github.com/NVIDIA-Omniverse/IsaacLab) - ä»¿çœŸç¯å¢ƒ
- [RSL-RL](https://github.com/leggedrobotics/rsl_rl) - å¼ºåŒ–å­¦ä¹ ç®—æ³•

**å‚è€ƒé¡¹ç›®**ï¼š
- [Legged Robotics](https://leggedrobotics.github.io/) - å››è¶³æœºå™¨äººæ§åˆ¶
- [Isaac Gym](https://github.com/NVIDIA-OmniIsaacGym/IsaacGym) - å¹¶è¡Œä»¿çœŸ

---

**ç»´æŠ¤è€…**: TNHTH
**æœ€åæ›´æ–°**: 2026-01-27
**ç‰ˆæœ¬**: v3.1ï¼ˆæ¢¯åº¦çˆ†ç‚¸ä¿®å¤ç‰ˆï¼‰
**å¼€å‘åŸºå‡†**: Isaac Sim 4.5 + Ubuntu 20.04
**GitHub**: https://github.com/TNHTH/dashgo-rl-navigation
