# æŠ¥å‘Š1: DashGoæ–‡ä»¶å¤¹å†…å®¹åˆ†æ

> **ç”Ÿæˆæ—¶é—´**: 2026-01-23 23:45:00
> **ç›®çš„**: ç³»ç»Ÿæ¢³ç†DashGoæœºå™¨äººçš„ROSåŒ…å’Œå‚æ•°é…ç½®

---

## ğŸ“ ç›®å½•ç»“æ„æ¦‚è§ˆ

```
dashgo/
â”œâ”€â”€ EAIé©±åŠ¨/dashgo_bringup/     # ROSé©±åŠ¨æ ¸å¿ƒåŒ…
â”‚   â”œâ”€â”€ nodes/                 # é©±åŠ¨èŠ‚ç‚¹
â”‚   â”œâ”€â”€ config/                # å‚æ•°é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ launch/                # å¯åŠ¨æ–‡ä»¶
â”‚   â”œâ”€â”€ scripts/               # æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ startup/               # ç³»ç»ŸæœåŠ¡é…ç½®
â”œâ”€â”€ 1/1/nav/                   # å¯¼èˆªåŠŸèƒ½åŒ…
â”‚   â”œâ”€â”€ param/                 # å¯¼èˆªå‚æ•°
â”‚   â”œâ”€â”€ launch/                # å¯¼èˆªå¯åŠ¨æ–‡ä»¶
â”‚   â”œâ”€â”€ map/                   # åœ°å›¾æ–‡ä»¶
â”‚   â””â”€â”€ config/                # RVizé…ç½®
â””â”€â”€ cartographerèµ„æ–™(1)/        # SLAMç®—æ³•åº“ï¼ˆç¬¬ä¸‰æ–¹ï¼‰
```

---

## ğŸ” æ ¸å¿ƒæ–‡ä»¶è¯¦è§£

### 1. ROSé©±åŠ¨èŠ‚ç‚¹ (`dashgo_driver.py`)

**åŠŸèƒ½**: Arduinoä¸²å£é€šä¿¡ã€ç¼–ç å™¨è¯»å–ã€PIDæ§åˆ¶ã€é‡Œç¨‹è®¡å‘å¸ƒ

**å…³é”®å‚æ•°**:
| å‚æ•° | å€¼ | è¯´æ˜ |
|------|-----|------|
| `port` | `/dev/ttyUSB0` | ä¸²å£è®¾å¤‡ |
| `baud` | 115200 | æ³¢ç‰¹ç‡ |
| `rate` | 50 Hz | æ§åˆ¶å¾ªç¯é¢‘ç‡ |
| `PID_RATE` | 30 Hz | PIDæ§åˆ¶å™¨é¢‘ç‡ |

**é‡Œç¨‹è®¡è®¡ç®—**:
```python
# ç¼–ç å™¨â†’è·ç¦»è½¬æ¢
ticks_per_meter = encoder_resolution / (wheel_diameter * Ï€)
dleft = (left_enc - enc_left) / ticks_per_meter
dright = (right_enc - enc_right) / ticks_per_meter

# è¿åŠ¨å­¦æ¨¡å‹
dxy_ave = (dright + dleft) / 2.0
dth = (dright - dleft) / wheel_track
```

---

### 2. æœºå™¨äººå‚æ•°é…ç½® (`my_dashgo_params.yaml`)

**ç¡¬ä»¶å‚æ•°**:
```yaml
# ç‰©ç†å°ºå¯¸
wheel_diameter: 0.1264 m      # è½®å­ç›´å¾„
wheel_track: 0.3420 m          # è½®è·ï¼ˆå·¦å³è½®ä¸­å¿ƒè·ï¼‰
encoder_resolution: 1200       # ç¼–ç å™¨çº¿æ•°

# PIDæ§åˆ¶å‚æ•°
Kp: 50                         # æ¯”ä¾‹å¢ç›Š
Kd: 20                         # å¾®åˆ†å¢ç›Š
Ki: 0                          # ç§¯åˆ†å¢ç›Š
Ko: 50                         # è¾“å‡ºå¢ç›Š
accel_limit: 1.0               # åŠ é€Ÿåº¦é™åˆ¶ (m/sÂ²)
```

**âš ï¸ å‚æ•°å†²çª**:
- ROSé…ç½®ä¸­ `wheel_track: 0.3420m`
- URDFä¸­è½®å­ä½ç½® `y = Â±0.15m` â†’ å®é™…è½®è· `0.30m`
- **å·®å¼‚**: 42mm â†’ å¯¼è‡´é‡Œç¨‹è®¡è¯¯å·®14%

---

### 3. æœºå™¨äººURDFæ¨¡å‹ (`dashgo.urdf`)

**å‡ ä½•å‚æ•°**:
| ç»„ä»¶ | å°ºå¯¸ | è´¨é‡ | æƒ¯æ€§çŸ© |
|------|------|------|--------|
| `base_link` | Î¦0.406m Ã— 0.21m | 13.7 kg | Ixx=0.2, Iyy=0.2, Izz=0.28 |
| `left/right_wheel` | Î¦0.125m Ã— 0.04m | 1.5 kg | I=0.01 (å¯¹è§’) |
| `caster` | r=0.03m | 0.1 kg | I=0.0001 |

**å…³èŠ‚é…ç½®**:
```xml
<joint name="left_wheel_joint" type="continuous">
  <origin xyz="0  0.15 -0.0805"/>  <!-- å·¦è½®ä½ç½® -->
  <axis xyz="0 0 1"/>               <!-- æ—‹è½¬è½´ -->
  <dynamics damping="1.0" friction="1.0"/>
</joint>

<joint name="right_wheel_joint" type="continuous">
  <origin xyz="0 -0.15 -0.0805"/>  <!-- å³è½®ä½ç½® -->
  <axis xyz="0 0 1"/>
  <dynamics damping="1.0" friction="1.0"/>
</joint>
```

**âš ï¸ é—®é¢˜**:
- è½®å­å…³èŠ‚çš„ `damping` å’Œ `friction` éƒ½æ˜¯ 1.0 â†’ ä»¿çœŸä¸­é˜»åŠ›è¿‡å¤§
- ç¼ºå°‘ `<limit effort="" velocity=""/>` æ ‡ç­¾ â†’ Isaac Labæ— æ³•è·å–ç†è®ºé™åˆ¶

---

### 4. å¯¼èˆªå‚æ•° (`base_local_planner_params.yaml`)

**é€Ÿåº¦é™åˆ¶**:
```yaml
max_vel_x: 0.3 m/s          # å‰è¿›æœ€å¤§é€Ÿåº¦
min_vel_x: 0.05 m/s         # å‰è¿›æœ€å°é€Ÿåº¦
max_vel_theta: 1.0 rad/s    # æ—‹è½¬æœ€å¤§è§’é€Ÿåº¦
min_vel_theta: -1.0 rad/s
min_in_place_vel_theta: 0.4 rad/s  # åŸåœ°æ—‹è½¬é€Ÿåº¦
```

**åŠ é€Ÿåº¦é™åˆ¶**:
```yaml
acc_lim_x: 1.0 m/sÂ²         # çº¿åŠ é€Ÿåº¦
acc_lim_theta: 0.6 rad/sÂ²   # è§’åŠ é€Ÿåº¦
```

**ç›®æ ‡å…¬å·®**:
```yaml
xy_goal_tolerance: 0.2 m     # ä½ç½®å…¬å·®
yaw_goal_tolerance: 0.1 rad  # å§¿æ€å…¬å·®
```

**è·¯å¾„è§„åˆ’å‚æ•°**:
```yaml
sim_time: 0.6               # å‰ç»æ—¶é—´ï¼ˆè¶Šå¤§è·¯å¾„è¶Šå¹³æ»‘ï¼‰
vx_samples: 12              # çº¿é€Ÿåº¦é‡‡æ ·æ•°
vtheta_samples: 15          # è§’é€Ÿåº¦é‡‡æ ·æ•°
```

---

### 5. ä»£ä»·åœ°å›¾é…ç½® (`costmap_common_params.yaml`)

**æœºå™¨äººå‡ ä½•**:
```yaml
robot_radius: 0.2 m         # æœºå™¨äººåŠå¾„ï¼ˆåœ†å½¢ï¼‰
```

**ä¼ æ„Ÿå™¨å‚æ•°**:
```yaml
obstacle_range: 3.0 m       # éšœç¢ç‰©æ£€æµ‹è·ç¦»
raytrace_range: 3.5 m       # éšœç¢ç‰©æ¸…é™¤è·ç¦»
observation_sources: scan   # æ•°æ®æºï¼šæ¿€å…‰é›·è¾¾
scan: {
  sensor_frame: laser,
  data_type: LaserScan,
  topic: scan,
  marking: true,            # ç”¨äºæ·»åŠ éšœç¢ç‰©
  clearing: true            # ç”¨äºæ¸…é™¤éšœç¢ç‰©
}
```

---

## ğŸ“Š å…³é”®å‚æ•°æ±‡æ€»è¡¨

| ç±»åˆ« | å‚æ•° | ROSé…ç½® | URDFæ¨¡å‹ | Isaac Labå½“å‰å€¼ | çŠ¶æ€ |
|------|------|---------|----------|----------------|------|
| **ç‰©ç†å°ºå¯¸** | wheel_diameter | 0.1264m | 0.125m | 0.1264m | âœ… ä¸€è‡´ |
| | wheel_track | 0.342m | 0.30m | æœªä½¿ç”¨ | âš ï¸ å†²çª |
| | base_mass | æœªé…ç½® | 13.7kg | æœªä½¿ç”¨ | âš ï¸ ç¼ºå¤± |
| **è¿åŠ¨é™åˆ¶** | max_vel_x | 0.3 m/s | - | æœªé™åˆ¶ | âš ï¸ ç¼ºå¤± |
| | max_vel_theta | 1.0 rad/s | - | æœªé™åˆ¶ | âš ï¸ ç¼ºå¤± |
| | acc_lim_x | 1.0 m/sÂ² | - | 1.0 m/sÂ² | âœ… ä¸€è‡´ |
| **æ‰§è¡Œå™¨** | effort_limit | - | æœªè®¾ç½® | 10.0 Nm | âš ï¸ æœªéªŒè¯ |
| | velocity_limit | - | æœªè®¾ç½® | 8.0 rad/s | âš ï¸ æœªéªŒè¯ |
| **é˜»å°¼** | wheel_damping | - | 1.0 | 15.0 | âš ï¸ å·®å¼‚å¤§ |

---

## ğŸ”§ æµ‹è¯•è„šæœ¬åŠŸèƒ½

**é©±åŠ¨æµ‹è¯•** (`scripts/`):
- `check_linear.py` - çº¿é€Ÿåº¦æ ¡å‡†
- `check_angular.py` - è§’é€Ÿåº¦æ ¡å‡†
- `check_*_combined.py` - ç»¼åˆæµ‹è¯•
- `teleop_twist_keyboard.py` - é”®ç›˜é¥æ§

**å¯¼èˆªæµ‹è¯•**:
- `nav_square.py` - æ–¹å½¢è·¯å¾„å¯¼èˆª
- `nav_grid.py` - ç½‘æ ¼å¯¼èˆª
- `follow_me.py` - è·Ÿéšæ¨¡å¼

---

## ğŸš¨ å‘ç°çš„ä¸»è¦é—®é¢˜

### 1. **å‚æ•°ä¸ä¸€è‡´**
- ROSé…ç½®çš„è½®è·ï¼ˆ0.342mï¼‰ä¸URDFæ¨¡å‹ï¼ˆ0.30mï¼‰ä¸åŒ¹é…
- **å½±å“**: é‡Œç¨‹è®¡è¯¯å·®ã€ä»¿çœŸä¸å®ç‰©ä¸ç¬¦

### 2. **URDFç¼ºå°‘å…³é”®æ ‡ç­¾**
- ç¼ºå°‘ `<limit effort="" velocity=""/>`
- **å½±å“**: Isaac Labæ— æ³•è¯»å–ç†è®ºé™åˆ¶å€¼

### 3. **é˜»å°¼å‚æ•°è¿‡é«˜**
- URDFä¸­ `damping="1.0"` å¯¼è‡´ä»¿çœŸé˜»åŠ›è¿‡å¤§
- **å½±å“**: ä»¿çœŸè¿åŠ¨ç¼“æ…¢ï¼Œèƒ½è€—è®¡ç®—ä¸å‡†ç¡®

### 4. **Isaac Labé…ç½®æœªåˆ©ç”¨ROSå‚æ•°**
- å½“å‰æœªä½¿ç”¨ROSçš„é€Ÿåº¦å’ŒåŠ é€Ÿåº¦é™åˆ¶
- **å½±å“**: ä»¿çœŸç¯å¢ƒä¸å®ç‰©èƒ½åŠ›ä¸åŒ¹é…

---

## ğŸ“‹ åç»­å·¥ä½œ

1. âœ… ç»Ÿä¸€è½®è·å‚æ•°ï¼ˆé€‰æ‹©å®æµ‹å€¼ï¼‰
2. âœ… å®Œå–„URDFçš„`<limit>`æ ‡ç­¾
3. âœ… è°ƒæ•´é˜»å°¼å‚æ•°åˆ°åˆç†èŒƒå›´
4. âœ… å°†ROSé€Ÿåº¦é™åˆ¶è¿ç§»åˆ°Isaac Lab
5. âœ… æ·»åŠ ä¼ æ„Ÿå™¨æ¨¡å‹ï¼ˆæ¿€å…‰é›·è¾¾ï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**ä¸‹ä¸€æ­¥**: æŠ¥å‘Š2 - é¡¹ç›®ä¼˜åŒ–æ–¹æ¡ˆ
