# è®­ç»ƒäº§ç‰©è‡ªåŠ¨å¤‡ä»½ç³»ç»Ÿ

> **åˆ›å»ºæ—¶é—´**: 2026-01-24 18:50:00
> **åŠŸèƒ½**: è‡ªåŠ¨ç®¡ç†è®­ç»ƒäº§ç‰©ï¼ˆæ¨¡å‹ã€TensorBoardäº‹ä»¶ï¼‰
> **çŠ¶æ€**: âœ… å·²éƒ¨ç½²

---

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

ä¸ºäº†é¿å…è®­ç»ƒäº§ç‰©ï¼ˆæ¨¡å‹æ–‡ä»¶ã€TensorBoardäº‹ä»¶ï¼‰æ±¡æŸ“ä»£ç ä»“åº“ï¼Œæˆ‘ä»¬å»ºç«‹äº†ä¸€å¥—è‡ªåŠ¨å¤‡ä»½ç³»ç»Ÿã€‚

**æ ¸å¿ƒåŸåˆ™**ï¼š
- âœ… æ¯æ¬¡ä»£ç ä¿®æ”¹åè‡ªåŠ¨å¤‡ä»½æ—§è®­ç»ƒäº§ç‰©
- âœ… æŒ‰æ—¥æœŸå’ŒåŸå› åˆ†ç±»ç»„ç»‡å¤‡ä»½
- âœ… æ¸…ç©º logs ç›®å½•ä¸ºæ–°è®­ç»ƒå‡†å¤‡
- âœ… ä¸æäº¤è®­ç»ƒäº§ç‰©åˆ° Git

---

## ğŸ› ï¸ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•1ï¼šæ‰‹åŠ¨æ‰§è¡Œå¤‡ä»½è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
./backup_training_artifacts.sh
```

**è„šæœ¬åŠŸèƒ½**ï¼š
1. è‡ªåŠ¨æ£€æµ‹ logs/ ç›®å½•ä¸­çš„è®­ç»ƒäº§ç‰©
2. åˆ›å»ºæŒ‰æ—¥æœŸåˆ†ç±»çš„å¤‡ä»½ç›®å½•
3. åˆ†ç±»å¤‡ä»½ï¼šæ¨¡å‹ã€TensorBoardäº‹ä»¶ã€å…¶ä»–æ–‡ä»¶
4. ç”Ÿæˆå¤‡ä»½æŠ¥å‘Š

**å¤‡ä»½ç›®å½•ç»“æ„**ï¼š
```
logs_backup/
â””â”€â”€ 2026-01-24/
    â”œâ”€â”€ 20260124_184950_reward_hacking_fixed/
    â”‚   â”œâ”€â”€ models/          (model_*.pt æ–‡ä»¶)
    â”‚   â”œâ”€â”€ tensorboard/     (events.out.tfevents.* æ–‡ä»¶)
    â”‚   â””â”€â”€ misc/            (rsl_rl/, git/ ç­‰ç›®å½•)
    â”œâ”€â”€ 20260124_190500_api_compatibility_fixed/
    â””â”€â”€ ...
```

### æ–¹æ³•2ï¼šæ¸…ç©º logs ç›®å½•ï¼ˆå¿«é€Ÿï¼‰

```bash
# å¤‡ä»½åæ¸…ç©º
rm -rf logs/*
```

---

## ğŸ“‚ å¤‡ä»½æ–‡ä»¶åˆ†ç±»

### 1. æ¨¡å‹æ–‡ä»¶ (`models/`)

**æ–‡ä»¶æ¨¡å¼**: `model_*.pt`

**è¯´æ˜**: PyTorch æ¨¡å‹æ£€æŸ¥ç‚¹ï¼ŒåŒ…å«å®Œæ•´çš„ç½‘ç»œæƒé‡å’Œä¼˜åŒ–å™¨çŠ¶æ€

**å¤§å°**: çº¦ 4.2MB/ä¸ª

**ç”¨é€”**:
- æ¢å¤è®­ç»ƒ
- è¯„ä¼°æ¨¡å‹æ€§èƒ½
- å¯¼å‡º ONNX ç”¨äºéƒ¨ç½²

### 2. TensorBoard äº‹ä»¶ (`tensorboard/`)

**æ–‡ä»¶æ¨¡å¼**: `events.out.tfevents.*`

**è¯´æ˜**: TensorBoard è®­ç»ƒæ—¥å¿—ï¼ŒåŒ…å«æŸå¤±ã€å¥–åŠ±ã€æŒ‡æ ‡ç­‰

**ç”¨é€”**:
- å¯è§†åŒ–è®­ç»ƒæ›²çº¿
- åˆ†æè®­ç»ƒè¿‡ç¨‹
- å¯¹æ¯”ä¸åŒå®éªŒ

**æŸ¥çœ‹æ–¹æ³•**ï¼š
```bash
tensorboard --logdir logs_backup/2026-01-24/20260124_184950_reward_hacking_fixed/tensorboard
```

### 3. å…¶ä»–æ–‡ä»¶ (`misc/`)

**å†…å®¹**:
- `rsl_rl/` - RSL-RL è®­ç»ƒå™¨é…ç½®
- `git/` - Git çŠ¶æ€ä¿¡æ¯

---

## ğŸ¯ ä½¿ç”¨æµç¨‹

### å®Œæ•´å·¥ä½œæµç¨‹

```bash
# 1. ä»£ç ä¿®æ”¹åï¼Œå¤‡ä»½æ—§è®­ç»ƒäº§ç‰©
./backup_training_artifacts.sh

# 2. æ£€æŸ¥å¤‡ä»½æ˜¯å¦æ­£ç¡®
ls -lh logs_backup/2026-01-24/20260124_184950_reward_hacking_fixed/

# 3. æ¸…ç©º logs ç›®å½•ï¼ˆè„šæœ¬ä¸ä¼šè‡ªåŠ¨æ¸…ç©ºï¼Œè®©ä½ ç¡®è®¤ï¼‰
rm -rf logs/*

# 4. å¯åŠ¨æ–°è®­ç»ƒ
~/IsaacLab/isaaclab.sh -p train_v2.py --headless --num_envs 256
```

### å¿«é€Ÿå·¥ä½œæµç¨‹

```bash
# ä¸€é”®å¤‡ä»½+æ¸…ç©º+å¯åŠ¨è®­ç»ƒ
./backup_training_artifacts.sh && rm -rf logs/* && ~/IsaacLab/isaaclab.sh -p train_v2.py --headless --num_envs 256
```

---

## ğŸ“Š å¤‡ä»½å‘½åè§„èŒƒ

**ç›®å½•åæ ¼å¼**: `YYYYMMDD_HHMMSS_<åŸå› æè¿°>`

**ç¤ºä¾‹**ï¼š
- `20260124_184950_reward_hacking_fixed` - ä¿®å¤å¥–åŠ±é»‘å®¢æ¼æ´
- `20260124_190500_api_compatibility_fixed` - ä¿®å¤APIå…¼å®¹æ€§
- `20260124_200000_initial_training` - åˆå§‹è®­ç»ƒ
- `20260124_210000_hyperparameter_tuning` - è¶…å‚æ•°è°ƒä¼˜

**å»ºè®®çš„åŸå› æè¿°**ï¼š
- `reward_hacking_fixed` - å¥–åŠ±å‡½æ•°ä¿®å¤
- `api_compatibility_fixed` - APIå…¼å®¹æ€§ä¿®å¤
- `hyperparameter_tuned` - è¶…å‚æ•°è°ƒæ•´
- `initial_training` - åˆå§‹è®­ç»ƒ
- `abnormal_terminated` - å¼‚å¸¸ç»ˆæ­¢
- `manual_backup` - æ‰‹åŠ¨å¤‡ä»½

---

## âš™ï¸ Git é…ç½®

### .gitignore æ›´æ–°

**æ–°å¢å¿½ç•¥è§„åˆ™**ï¼š
```gitignore
# è®­ç»ƒäº§ç‰©ï¼ˆå¤§æ–‡ä»¶ï¼‰
policy.onnx
*.pth
*.ckpt
*.pkl
*.pt

# è®­ç»ƒæ—¥å¿—å’Œå¤‡ä»½
logs/*.pt
logs/*.log
logs/events.out.tfevents.*
logs_backup/
```

**è¯´æ˜**ï¼š
- âœ… å¿½ç•¥æ‰€æœ‰æ¨¡å‹æ–‡ä»¶ï¼ˆ.pt, .pth, .ckptï¼‰
- âœ… å¿½ç•¥ TensorBoard äº‹ä»¶æ–‡ä»¶
- âœ… å¿½ç•¥æ•´ä¸ª logs_backup/ ç›®å½•
- âœ… ä¿æŒä»£ç ä»“åº“æ•´æ´

---

## ğŸ”§ è„šæœ¬è¯¦è§£

### è„šæœ¬ä½ç½®
```
/home/gwh/dashgo_rl_project/backup_training_artifacts.sh
```

### æ ¸å¿ƒåŠŸèƒ½

**1. æ£€æµ‹è®­ç»ƒäº§ç‰©**
```bash
MODEL_COUNT=$(find "${LOGS_DIR}" -name "model_*.pt" | wc -l)
EVENT_COUNT=$(find "${LOGS_DIR}" -name "events.out.tfevents.*" | wc -l)
```

**2. åˆ›å»ºå¤‡ä»½ç›®å½•**
```bash
BACKUP_DIR="${BACKUP_ROOT}/${DATE_ONLY}/${TIMESTAMP}_<reason>"
mkdir -p "${MODELS_DIR}"
mkdir -p "${TENSORBOARD_DIR}"
mkdir -p "${MISC_DIR}"
```

**3. åˆ†ç±»å¤‡ä»½æ–‡ä»¶**
```bash
# æ¨¡å‹æ–‡ä»¶
find "${LOGS_DIR}" -name "model_*.pt" -exec cp {} "${MODELS_DIR}/" \;

# TensorBoard äº‹ä»¶
find "${LOGS_DIR}" -name "events.out.tfevents.*" -exec cp {} "${TENSORBOARD_DIR}/" \;

# å…¶ä»–æ–‡ä»¶
cp -r "${LOGS_DIR}/rsl_rl" "${MISC_DIR}/"
```

**4. ç”Ÿæˆå¤‡ä»½æŠ¥å‘Š**
```
âœ… å¤‡ä»½å®Œæˆï¼
å¤‡ä»½ä½ç½®: /path/to/backup
å¤‡ä»½ç»Ÿè®¡:
  - æ¨¡å‹æ–‡ä»¶: 14 ä¸ª
  - TensorBoardäº‹ä»¶: 7 ä¸ª
  - å…¶ä»–æ–‡ä»¶: 2 é¡¹
```

---

## âœ… éªŒè¯æ–¹æ³•

### 1. æ£€æŸ¥å¤‡ä»½å®Œæ•´æ€§

```bash
# æ£€æŸ¥æ¨¡å‹æ–‡ä»¶
ls -lh logs_backup/2026-01-24/*/models/
# åº”è¯¥çœ‹åˆ° model_0.pt, model_50.pt, ...

# æ£€æŸ¥ TensorBoard æ–‡ä»¶
ls -lh logs_backup/2026-01-24/*/tensorboard/
# åº”è¯¥çœ‹åˆ° events.out.tfevents.*

# æ£€æŸ¥ logs ç›®å½•å·²æ¸…ç©º
ls -lh logs/
# åº”è¯¥æ˜¯ç©ºçš„ï¼ˆæˆ–åªæœ‰ .gitkeepï¼‰
```

### 2. éªŒè¯ Git çŠ¶æ€

```bash
# æ£€æŸ¥æ˜¯å¦æœ‰è®­ç»ƒäº§ç‰©è¢«è·Ÿè¸ª
git status
# åº”è¯¥çœ‹ä¸åˆ° logs_backup/ ç›®å½•
```

---

## ğŸ“ æœ€ä½³å®è·µ

### 1. ä½•æ—¶å¤‡ä»½

**å¿…é¡»å¤‡ä»½çš„æƒ…å†µ**ï¼š
- âœ… ä»£ç ä¿®æ”¹åï¼ˆå¥–åŠ±å‡½æ•°ã€ç½‘ç»œç»“æ„ï¼‰
- âœ… è¶…å‚æ•°è°ƒæ•´åï¼ˆå­¦ä¹ ç‡ã€ç¯å¢ƒæ•°é‡ï¼‰
- âœ… ä¿®å¤bugå
- âœ… è®­ç»ƒå¼‚å¸¸ç»ˆæ­¢å

**å¯é€‰å¤‡ä»½**ï¼š
- å®šæœŸå¤‡ä»½ï¼ˆå¦‚æ¯å‘¨ä¸€æ¬¡ï¼‰
- å®éªŒæ€§è®­ç»ƒå‰

### 2. å¤‡ä»½å‘½åå»ºè®®

**æè¿°åŸå› ï¼Œä¸è¦æè¿°ç»“æœ**ï¼š

âœ… **å¥½çš„å‘½å**ï¼š
- `reward_hacking_fixed` - ä¿®å¤å¥–åŠ±é»‘å®¢
- `hyperparameter_tuned` - è¶…å‚æ•°è°ƒä¼˜
- `initial_training` - åˆå§‹è®­ç»ƒ

âŒ **ä¸å¥½çš„å‘½å**ï¼š
- `backup_1` - æ— æ„ä¹‰
- `test_run` - ä¸æ˜ç¡®
- `final_version` - å¯èƒ½ä¸æ˜¯æœ€ç»ˆç‰ˆæœ¬

### 3. æ¸…ç†ç­–ç•¥

**ä¿ç•™ç­–ç•¥**ï¼š
- âœ… ä¿ç•™æ‰€æœ‰å¤‡ä»½ï¼ˆç£ç›˜ç©ºé—´å……è¶³æ—¶ï¼‰
- âœ… æŒ‰æ—¥æœŸç»„ç»‡ï¼Œæ–¹ä¾¿æŸ¥æ‰¾

**åˆ é™¤ç­–ç•¥**ï¼ˆç£ç›˜ä¸è¶³æ—¶ï¼‰ï¼š
- ğŸ—‘ï¸ åˆ é™¤æœ€æ—©çš„å¤‡ä»½
- ğŸ—‘ï¸ åªä¿ç•™æœ€è¿‘ 1 ä¸ªæœˆçš„å¤‡ä»½
- ğŸ—‘ï¸ åˆ é™¤æ˜æ˜¾å¤±è´¥çš„å®éªŒ

---

## ğŸ“ ç»´æŠ¤è¯´æ˜

### è„šæœ¬æƒé™

```bash
# æŸ¥çœ‹æƒé™
ls -l backup_training_artifacts.sh

# æ·»åŠ æ‰§è¡Œæƒé™ï¼ˆå¦‚æœéœ€è¦ï¼‰
chmod +x backup_training_artifacts.sh
```

### ä¾èµ–é¡¹

**æ— ä¾èµ–**ï¼šçº¯ Bash è„šæœ¬ï¼Œæ— éœ€é¢å¤–å®‰è£…

**å…¼å®¹æ€§**ï¼š
- âœ… Linux (Ubuntu 20.04+)
- âœ… macOS (éœ€è¦å®‰è£… GNU find)
- âš ï¸ Windows (éœ€è¦ WSL æˆ– Git Bash)

---

## ğŸš€ æœªæ¥æ”¹è¿›

### å¯èƒ½çš„å¢å¼º

1. **è‡ªåŠ¨è§¦å‘**
   - Git pre-commit hook è‡ªåŠ¨å¤‡ä»½
   - è®­ç»ƒè„šæœ¬è‡ªåŠ¨è°ƒç”¨

2. **æ™ºèƒ½æ¸…ç†**
   - è‡ªåŠ¨åˆ é™¤ 30 å¤©å‰çš„å¤‡ä»½
   - åªä¿ç•™æœ€ä½³æ¨¡å‹

3. **äº‘å¤‡ä»½**
   - è‡ªåŠ¨ä¸Šä¼ åˆ°äº‘å­˜å‚¨
   - å¤šåœ°ç‚¹å¤‡ä»½

4. **æŠ¥å‘Šç”Ÿæˆ**
   - è‡ªåŠ¨ç”Ÿæˆè®­ç»ƒæŠ¥å‘Š
   - å¯¹æ¯”ä¸åŒå®éªŒç»“æœ

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

1. **è®­ç»ƒé…ç½®**ï¼š
   - `train_cfg_v2.yaml` - PPO è¶…å‚æ•°
   - `train_v2.py` - è®­ç»ƒè„šæœ¬

2. **é—®é¢˜è®°å½•**ï¼š
   - `issues/2026-01-24_1900_å¥–åŠ±é»‘å®¢ä¸GPUåˆ©ç”¨ç‡.md`

3. **Git è§„èŒƒ**ï¼š
   - `.gitignore` - å¿½ç•¥è§„åˆ™

---

**ç»´æŠ¤è€…**: Claude Code AI Assistant
**æœ€åæ›´æ–°**: 2026-01-24 18:50:00
**çŠ¶æ€**: âœ… å·²éƒ¨ç½²å¹¶æµ‹è¯•
**ç¬¬ä¸€æ¬¡å¤‡ä»½**: 2026-01-24 18:49:50 (14ä¸ªæ¨¡å‹, 7ä¸ªäº‹ä»¶æ–‡ä»¶)
